---
html:
  offline: false
  cdn_hosted: true
export_on_save:
  html: true
---

# 数学分析：数系

<br>

<br>

<br>

## 1 自然数

<br>

### 1.1 Peano公理

<br>

首先定义**后继** $n++$ 表示 $n$ 的增量或者紧跟在 $n$ 之后的一个数。

**Peano公理**是定义自然数的一种方法，且较为简易、不至于太过抽象，其内容为：

- 公理1：$0$ 是一个自然数；
- 公理2：如果 $n$ 是一个自然数，那么 $n++$ 也是一个自然数；
- 公理3：$0$ 不跟在任何自然数后，换言之，对任意一个自然数 $n$，$n++\neq 0$ 均成立；
- 公理4：对于不同的自然数而言，紧跟在它们之后的数字也一定是不同的。即如果 $n$ 和 $m$ 都是自然数，并且 $n\neq m$，那么 $n++\neq m++$，等价说法为如果 $n++=m++$，那么有 $n=m$；
- 公理5：令 $P(n)$ 表示自然数 $n$ 的任意一个性质，如果 $P(0)$ 为真且 $P(n)$ 为真时一定有 $P(n++)$ 为真，那么对于任意自然数 $n$，$P(n)$一定为真。

公理5实际是一种公理模式而不是一种公理，在这个基础上可以构建出无数种公理，该公理模式又称为**数学归纳法**。

以上公理确定了一个自然数系 $\mathbb{N}$，称 $\mathbb{N}$ 中的元素为自然数，我们使用阿拉伯数字以及十进制书写自然数系中的元素，使用 $1$ 表示 $0++$，使用 $2$ 表示 $1++$ 等等。公理1确定自然数系中的一个元素，公理2确定后继同样是自然数，公理3使得自然数系不会发生头尾循环的情况，公理4使得自然数系不会发生部分循环的情况，公理5排除了自然数系中可能被添加进去的非必要的元素。

<br>

> **命题 1.1-1 递归定义**
>
> 假设对任意自然数 $n$ 与固定的自然数 $c$，都存在某个从自然数系到自然数系的函数 $f_n:\mathbb{N}\rightarrow\mathbb{N}$ ，能够确定唯一的自然数 $a_n$ 使得 $a_0=c$ 以及 $a_{n++}=f_n(a_n)$ 恒成立

<br>

一个不正式的归纳法证明：上述过程对 $a_0$ 赋予了单一的值，无论 $a_{n++}=f_n(a_n)$ 怎么定义，根据公理3，都不会影响 $a_0$ 的定义；归纳性地假设 $a_n$ 被赋予单一的值，则由 $a_{n++}:=f_n(a_n)$ 以及公理4可知无论其他 $a_{m++}=f_m(a_m)$ 是如何定义的，都不能改变 $a_{n++}$ 的值，由归纳法可知每一个 $a_n$ 都被唯一确定。$\square$

在一个数系中，如果存在某种类型的绕回情况，那么递归定义就不适用于该数系，序列中的某些元素将会持续不断地被重新定义。

<br>

### 1.2 加法

<br>

> **定义 1.2-1 自然数的加法**
>
> 令 $m$ 为一个自然数，定义 $m$ 加上 $0$ 为 $0+m:=m$。归纳地假设已经定义了 $m$ 如何加上 $n$，我们把 $m$ 加上 $n++$ 定义为 $(n++)+m:=(n+m)++$

<br>

根据递归定义，对任意的自然数 $n$ 都已经定义了 $n+m$。接下去使用关于加法的两个事实：$0+m=m$ 和 $(n++)+m=(n+m)++$，说明加法的性质。

<br>

> **命题 1.2-1 加法交换律**
>
> 对任意的自然数 $n$ 和 $m$，有 $n+m=m+n$

<br>

证明：首先证明引理1，对任意的自然数 $n$，$n+0=n$ 恒成立。

考虑使用归纳法进行证明，根据自然数的加法定义有 $0+0=0$，归纳性地假设 $n+0=n$，根据加法的定义，$(n++)+0=(n+0)++=n++$，由归纳法知 $n+0=n$ 对任意自然数 $n$ 均成立。

接着证明引理2，对任意的自然数 $n$ 和 $m$，有 $n+(m++)=(n+m)++$ 恒成立。

考虑使用归纳法进行证明，设 $m$ 为定值，根据自然数的加法定义有 $0+(m++)=(0+m)++$，归纳性地假设 $n+(m++)=(n+m)++$，则

$$
    (n++)+(m++)=(n+(m++))++
$$

$$
    =((n+m)++)++=((n++)+m)++
$$

由归纳法知 $n+(m++)=(n+m)++$ 恒成立。

现在证明加法交换律，将 $m$ 设为固定自然数，对 $n$ 使用归纳法，根据引理1可以知道 $0+n=n+0=n$，归纳性地假设 $n+m=m+n$，则

$$
    LHS=(n++)+m=(n+m)++
$$

$$
    RHS=m+(n++)=(m+n)++
$$

根据归纳假设可知 $LHS=RHS$，于是由归纳法知自然数加法具有交换律。$\square$

<br>

> **命题 1.2-2 加法结合律**
>
> 任意三个自然数 $a,b,c$，有 $(a+b)+c=a+(b+c)$

<br>

证明：将 $a,b$ 固定，对 $c$ 进行归纳，当 $c=0$ 时，$(a+b)+0=a+b=a+(b+0)$，归纳性地假设 $(a+b)+c=a+(b+c)$ 成立，则根据引理2：

$$
    LHS=(a+b)+(c++)=((a+b)+c)++
$$

$$
    RHS=a+(b+(c++))=a+(b+c)++=(a+(b+c))++
$$

根据归纳假设可知 $LHS=RHS$，于是由归纳法知自然数加法具有结合律。$\square$

<br>

> **命题 1.2-3 加法消去律**
>
> 任意三个自然数 $a,b,c$ 并且满足 $a+b=a+c$，则有 $b=c$

<br>

证明：对 $a$ 进行归纳，当 $a=0$ 时，由 $0+b=c+0$ 可推出 $b=c$，归纳性地假设由 $a+b=a+c$ 可以推出 $b=c$，则

$$
    LHS=(a++)+b=(a+b)++
$$

$$
    RHS=(a++)+c=(a+c)++
$$

根据公理4可知 $a+b=a+c$，由归纳假设知 $b=c$，由归纳法知自然数加法具有消去律。$\square$

<br>

> **定义 1.2-2 正自然数**
>
> 称一个自然数 $n$ 是**正的**，当且仅当它不等于 $0$

<br>

> **定义 1.2-3 自然数的序**
>
> 令 $n$ 和 $m$ 表示任意两个自然数，我们称 $n$ 大于等于 $m$，并且记作 $n\geq m$ 或者 $m\leq n$，当且仅当存在自然数 $a$ 使得 $n=m+a$。我们称 $n$ 严格大于 $m$，并且记作 $n>m$ 或者 $m<n$，当且仅当 $n\geq m$ 并且 $n\neq m$。

<br>

> **命题 1.2-4 自然数序的基本性质**
>
> 令 $a,b,c$ 为任意自然数，那么有：
> - 序的自反性：$a\geq a$
> - 序的可传递性：如果 $a\geq b$ 并且 $b\geq c$，那么 $a\geq c$
> - 序的反对称性：如果 $a\geq b$ 并且 $b\geq a$，那么 $a=b$
> - 加法保持序不变：$a\geq b$，当且仅当 $a+c\geq b+c$
> - $a<b$，当且仅当 $a++\leq b$
> - $a<b$，当且仅当存在正自然数 $d$ 使得 $b=a+d$

<br>

证明：

- 序的自反性：$\exists 0\in\mathbb{N}$ 使得 $a=a+0$，于是有 $a\geq a$
- 序的可传递性：$\exists \epsilon_1\in\mathbb{N}$ 使得 $a=b+\epsilon_1$，$\exists \epsilon_2\in\mathbb{N}$ 使得 $b=c+\epsilon_2$，根据加法结合律可知 $a=(c+\epsilon_2)+\epsilon_1=c+(\epsilon_1+\epsilon_2)$，$\exists\epsilon=\epsilon_1+\epsilon_2$ 使得 $a=c+\epsilon$，于是有 $a\geq c$
- 序的反对称性：$\exists \epsilon_1\in\mathbb{N}$使得 $a=b+\epsilon_1$，$\exists \epsilon_2\in\mathbb{N}$ 使得 $b=a+\epsilon_2$，于是有 $b=a+\epsilon_2=(b+\epsilon_1)+\epsilon_2$，根据加法结合律与加法消去律可得 $\epsilon_1+\epsilon_2=0$。
  
    证明一个引理：$a,b\in\mathbb{{N}}, a\neq 0$，那么 $a+b\neq 0$。

    考虑使用归纳法进行证明，如果 $b=0$，则 $a+0=a$ 是正的，归纳性地假设 $a+b$ 是正的，则 $a+(b++)=(a+b)++$ 不可能等于 $0$，故也是正的，根据归纳法可知引理成立。

    再证明引理：$a,b\in\mathbb{N}$ 并且满足 $a+b=0$，则 $a=0$ 且 $b=0$

    只需要使用反证法，假设 $a\neq 0$ 或 $b\neq 0$，即 $a$ 或 $b$ 是正自然数，根据刚才证明的引理可知该引理也成立，回到原证明过程可知 $\epsilon_1=0$ 且 $\epsilon_2=0$，于是有 $a=b$
- 加法保持序不变：$\exists d\in\mathbb{N}$ 使得 $a=b+d$，于是 $a+c=(b+d)+c=(b+c)+d$，即 $a+c\geq b+c$
- 后面两条性质的证明：$a\leq b,a\neq b$，$\exists d\in\mathbb{N}$ 使得 $b=a+d$ 且 $b\neq a$，故 $d\neq 0$，于是 $d$ 是正自然数，先证明引理：$\exists n\in\mathbb{N}$ 使得 $n++=d$：

    当 $d=1$ 时，$\exists n=0$ 使得 $n++=d$，归纳假设 $\exists n\in\mathbb{N}$ 使得 $n++=d$，则 $d++=(n++)++$，故 $\exists n'=n++$ 使得 $n'++=d++$，根据归纳法可知 $\exists n\in\mathbb{N}$ 使得 $n++=d$，于是 $b=a+(n++)=(a++)+n$，可得 $b\geq a++$

证毕。$\square$

<br>

> **命题 1.2-5 自然数序的三歧性**
>
> 令 $a$ 和 $b$ 表示任意两个自然数，那么在下面这种表述中恰有一种表述为真：$a<b,a=b,a>b$

<br>

证明：首先证明这三种表述中同时为真的个数不超过一个。如果 $a<b$，根据定义可知 $a\neq b$，对于 $a>b$ 也是同理；当 $a<b$ 且 $a>b$ 时，由序的反对称性可知 $a=b$，又和严格大于、严格小于的定义冲突，于是这三种表述最多只有一个为真。

接着证明这三种表述中至少有一个为真，保持 $b$ 固定不变，对 $a$ 进行归纳，当 $a=0$ 时，由于 $b=b+0$，于是 $b\geq 0$，则 $b=a$ 或者 $b>a$ 成立；归纳假设对 $a$ 来说这三种表述至少有一个成立，则
- 当 $a>b$ 时，$\exists m\in\mathbb{N},m\neq 0$ 使得 $a=b+m$，则 $a++=b+(m++)>b$
- 当 $a=b$ 时，$a++=b++=b+1$，则 $a++>b$
- 当 $a<b$ 时，即 $a++\leq b$。可能 $a++=b$，也可能 $a++<b$。

可以看出不管哪种情形都有至少一个表述是成立的。$\square$

<br>

> **命题 1.2-6 强归纳法原理**
>
> 令 $m_0$ 表示一个自然数，$P(m)$ 表示与任意自然数 $m$ 有关的性质。假设对任意满足 $m\geq m_0$ 的自然数 $m$，均有如下内容成立：若 $P(m')$ 对任意满足 $m_0\leq m'<m$ 均为真，则 $P(m)$ 也为真。那么通过这个结论能够断定，对于任意满足 $m\geq m_0$ 的自然数 $m$，$P(m)$ 为真。

<br>

证明：定义 $Q(n):=\{P(m)\;\text{is}\;\text{true},\forall m_0\leq m<n\}$，当 $n\leq m_0$ 时，此时 $m$ 的取值范围为空，$Q(n)$ 为真，归纳假设 $Q(n),n>m_0$ 为真，则 $Q(n++)=\{P(k)\;\text{is}\;\text{true},\forall m_0\leq k<n++\}$，由于 $Q(n)$ 为真，则 $P(k),\forall m_0\leq k<n$ 为真，故由条件知 $P(n)$ 为真，因此 $Q(n++)$ 为真。根据归纳法知对所有满足 $m\geq m_0$ 的自然数 $m$，$P(m)$ 为真。$\square$

<br>

### 1.3 乘法

<br>

> **定义 1.3-1 自然数的乘法**
>
> 令 $m$ 表示任意一个自然数，我们定义 $0\times m:=0$ 来表示把 $0$ 乘到 $m$ 上。现在归纳性地假设已经定义了如何把 $n$ 乘到 $m$ 上，那么我们可以通过定义 $(n++)\times m:=(n\times m)+m$ 表示把 $n++$ 乘到 $m$ 上。

<br>

将 $n\times m$ 简记为 $nm$。与研究加法的性质类似，我们也利用这两个基础的定义研究乘法的性质：

<br>

> **命题 1.3-1 乘法交换律**
>
> 对任意的自然数 $n$ 与 $m$，有 $n\times m=m\times n$ 成立。

<br>

证明：首先证明引理一，对任意自然数 $n$，都有 $n\times 0=0$ 成立。当 $n=0$ 时，$0\times 0=0$ 显然成立，归纳性地假设 $n\times 0=0$ 成立，根据乘法定义，$(n++)\times 0=(n\times 0)+0=0$，由归纳法知引理成立。

接着证明引理二：$n\times(m++)=(n\times m)+n$。当 $n=0$ 时，$0=0+0$ 显然成立，归纳性地假设 $n\times(m++)=(n\times m)+n$，根据乘法定义

$$
\begin{aligned}
    (n++)\times(m++)&=(n\times (m++))+(m++)\\
    &=(n\times m)+n+(m++)\\
    &=(n\times m)+m+(n++)\\
    &=((n++)\times m)+(n++)
\end{aligned}
$$

由归纳法知引理二成立。

回到原命题的证明，当 $n=0$ 时，$0\times m=m\times 0$ 成立，归纳性地假设 $n\times m=m\times n$，根据以上引理：

$$
    LHS=(n++)\times m=(n\times m)+m
$$

$$
    RHS=m\times(n++)=(m\times n)+m
$$

由归纳法可知乘法交换律成立。$\square$

<br>

> **命题 1.3-2 乘法分配律**
>
> 对于任意自然数 $a,b,c$，$a(b+c)=ab+ac$ 和 $(b+c)a=ba+ca$ 均成立。

<br>

证明：由于乘法交换律，只需要证明 $a(b+c)=ab+ac$ 成立即可。固定 $a$ 和 $b$ 的值对 $c$ 进行归纳。当 $c=0$ 时，$a(b+0)=ab+a\times 0$ 成立，现在归纳性地假设 $a(b+c)=ab+ac$，则：

$$
    LHS=a(b+(c++))=a((b+c)++)=a(b+c)+a
$$

$$
    RHS=ab+a(c++)=ab+ac+a
$$

由归纳法知乘法分配律成立。$\square$

<br>

> **命题 1.3-3 乘法结合律**
>
> 对任意自然数 $a,b,c$，有 $(a\times b)\times c=a\times(b\times c)$ 成立。

<br>

证明：将 $a$ 和 $b$ 固定对 $c$ 进行归纳。当 $c=0$ 时 $(a\times b)\times 0=0$，$a\times(b\times 0)=a\times 0=0$，归纳性地假设 $(a\times b)\times c=a\times(b\times c)$，则：

$$
    LHS=(a\times b)\times(c++)=(a\times b)\times c+a\times b
$$

$$
    RHS=a\times(b\times(c++))=a\times(b\times c+b)=a\times(b\times c)+a\times b
$$

上式的展开使用到了乘法分配律。根据归纳法可知乘法结合律成立。$\square$

<br>

> **命题 1.3-4 正自然数乘法保持序不变**
>
> 如果 $a,b$ 是满足 $a<b$ 的自然数，并且 $c$ 是正的，那么 $ac<bc$

<br>

证明：由于 $a<b$，所以 $d\in\mathbb{N},d\neq 0$ 使得 $b=a+d$，于是 $bc=(a+d)c=ac+dc$。注意到 $c,d$ 都是正的，则 $dc$ 也是正的，可以得到 $ac<bc$。$\square$

<br>

> **命题 1.3-5 乘法消去律**
>
> 设 $a,b,c$ 是自然数，满足 $ac=bc$ 且 $c$ 不为零，那么可以得到 $a=b$

<br>

证明：根据序的三歧性，$a$ 与 $b$ 之间的大小关系有三种：$a=b,a<b,a>b$。假设 $a<b$ 或者 $a>b$，根据命题 1.3-4 可知正自然数乘法不影响序，于是可以推出 $ac<bc$ 或者 $ac>bc$，这与条件不符，因此我们推出 $a=b$。$\square$

<br>

> **命题 1.3-6 Euclid算法**
>
> 设 $n\in\mathbb{N}$，$q\in\mathbb{N},q\neq 0$，则 $\exists m,r\in\mathbb{N}$ 使得 $0\leq r<q$ 且 $n=mq+r$

<br>

证明：固定 $q$ 对 $n$ 进行归纳，当 $n=0$ 时，$0=0\times q+0$，归纳性地假设 $\exists m,r\in\mathbb{N}$ 使得 $0\leq r<q$ 且 $n=mq+r$，则

$$
    n++=(mq+r)++=mq+(r++)
$$

由于 $0\leq r<q$，则可以得到 $0<r++\leq q$，即 $r++<q$ 或者 $r++=q$，第一种情况可以直接由归纳法得出我们的结论；第二种情况我们有

$$
    n++=mq+q=(m++)\times q
$$

存在 $m++\in\mathbb{N}$ 与 $r=0\in\mathbb{N}$ 使得 $n++=mq+r$，综上根据归纳法我们可以得到Euclid算法成立。$\square$

我们使用增量运算递归地定义了加法运算，用加法运算递归地定义了乘法运算，我们也可以使用乘法运算递归地定义一种新的运算：

<br>

> **定义 1.3-2 自然数的指数运算**
>
> 设 $m$ 是一个自然数，我们定义 $m^0:=1$ 表示把 $m$ 升到 $0$ 次幂；特别地定义 $0^0:=1$。归纳性地假设我们定义了对于某个自然数 $n$，$m^n$ 已经被定义了，那么我们定义 $m^{n++}:=m^n\times m$

<br>

<br>

<br>

## 2 朴素集合论基础

<br>

### 2.1 朴素集合论引入

<br>

> **定义 2.1-1 集合与元素**
>
> 这是一个非正式的定义：我们把**集合**（set） $A$ 定义为一些没有次序的对象，如果 $x$ 时这些对象中的一个，那么我们称 $x$ 是 $A$ 中的**元素**（element），记作 $x\in A$，否则记作 $x\notin A$。

<br>

> **公理 1 集合是对象**
>
> 如果 $A$ 是一个集合，则 $A$ 同样是一个对象（object），特别地，如果存在两个集合 $A,B$，$A\in B$ 的问题是具有意义的。

<br>

集合论存在一种特殊情形，即所有的对象都是集合，这种情形被称为**纯粹集合论**，例如 $\emptyset=\{\}$，$\{\{\},\{\{\}\}\}$ 等，从逻辑学角度看纯粹集合论是一种更简单的理论；然而在概念层面上非纯粹集合论更加容易处理。

<br>

> **定义 2.1-2 集合的相等**
>
>  称两个集合 $A$ 和 $B$ 相等（equal），当且仅当 $\forall x\in A$ 都有 $x\in B$，并且 $\forall y\in B$ 都有  $y\in A$，我们将 $A$ 和 $B$ 相等记作 $A=B$。

<br>

我们证明集合相等这一二元关系具有自反性、对称性和可传递性：
- 自反性：对于任意元素 $x\in A$，都有 $x\in A$，因此 $A=A$；
- 对称性：由于对 $\forall x\in B$ 都有 $x\in A$，对 $\forall y\in A$ 都有 $y\in B$，因此我们有 $B=A$；
- 可传递性：假设集合 $A,B,C$ 满足 $A=B$ 与 $B=C$，则：

    $$
        (\forall x\in A,x\in B)\wedge(\forall x\in B,x\in C)\Rightarrow\forall x\in A,x\in C
    $$

    $$
        (\forall y\in C,y\in B)\wedge(\forall y\in B,y\in A)\Rightarrow\forall y\in C,x\in A
    $$

    于是可以推出 $A=C$。

<br>

> **公理 2 空集**
>
> 存在一个集合 $\emptyset$，它不包含任何元素，即对任意对象 $x$ 都有 $x\notin\emptyset$，它被称为**空集**（empty set）。如果一个集合不等于 $\emptyset$，则称它为**非空的**。

<br>

> **引理 2.1-1 单个选取（single chioce）**
>
> 设 $A$ 是一个非空集合，那么存在一个对象 $x$ 使得 $x\in A$。

<br>

证明：使用反证法证明，假设不存在任何对象 $x$ 使得 $x\in A$，那么对任意一个对象 $x$ 都有 $x\notin A$，根据关于空集的公理可知 $x\notin\emptyset$，两个假的命题可以相互推导：$x\in A\Leftrightarrow x\in\emptyset$。由集合相等的定义可知 $A=\emptyset$，而这和条件矛盾。$\square$

该引理证明了对于任意一个非空集合 $A$，都可以「选取」$A$中的一个元素以验证 $A$ 的非空性。

<br>

> **公理 3 单元素集和双元素集**
>
> 如果 $a$ 是一个对象，那么存在一个集合 $A=\{a\}$ 并且该集合中唯一的元素就是 $a$，即对于任意一个对象 $y$，我们有 $y\in\{a\}$ 当且仅当 $y=a$，称 $\{a\}$ 是元素为 $a$ 的**单元素集**（singleton set）。如果 $a,b$ 都是对象，那么存在一个集合 $\{a,b\}$ 并且该集合中的元素只有 $a$ 和 $b$，即对于任意一个对象 $y$，我们有 $y\in\{a,b\}$ 当且仅当 $y=a$ 或 $y=b$，称 $\{a,b\}$ 是由元素 $a$ 和 $b$ 构成的**双元素集**（pair set）。

<br>

> **公理 4 并集（pairwise union）**
>
> 给定任意两个集合 $A$ 和 $B$，存在一个集合 $A\cup B$，该集合的元素由属于 $A$ 的或者属于 $B$ 的或者同时属于 $A$ 和 $B$ 的所有元素共同构成，换言之，对任意的对象 $x$：
> 
> $$
    x\in A\cup B\Leftrightarrow(x\in A\;\text{or}\;x\in B)
>    $$

<br>

> **引理 2.1-2 并集的基本性质**
>
> - 如果 $a$ 和 $b$ 都是对象，那么 $\{a,b\}=\{a\}\cup\{b\}$；
> - 求并运算具有交换性：对于集合 $A,B$，有 $A\cup B=B\cup A$；
> - 求并运算具有结合性：对于集合 $A,B,C$，有 $(A\cup B)\cup C=A\cup(B\cup C)$；
> - $A\cup A=A\cup\emptyset=\emptyset\cup A=A$

<br>

证明：
- 如果 $x\in\{a,b\}$，则 $x=a$ 或 $x=b$，即 $x\in\{a\}$ 或者 $x\in\{b\}$，即 $\{a,b\}=\{a\}\cup\{b\}$；
- 或关系具有交换性，所以 $A\cup B=B\cup A$ 成立；
- 假设 $x\in (A\cup B)\cup C$，由公理4知 $x\in A\cup B$ 或者 $x\in C$。如果 $x\in C$，则根据公理4可知 $x\in B\cup C$，再次利用公理4可得 $x\in A\cup(B\cup C)$；如果 $x\in A\cup B$，由公理4可知 $x\in A$ 或者 $x\in B$，如果 $x\in A$，则利用公理4可知 $x\in A\cup(B\cup C)$，如果 $x\in B$，则由公理4知 $x\in B\cup C$，再次利用公理4知 $x\in A\cup(B\cup C)$。综上所述，对于任意元素 $x\in(A\cup B)\cup C$，都有 $x\in A\cup(B\cup C)$，根据集合相等的定义知 $(A\cup B)\cup C=A\cup(B\cup C)$；
- $x\in A$ 等价于 $x\in A \vee x\in A$，这也等价于 $x\in A\cup A$，故 $A\cup A=A$；$x\in A$ 等价于 $x\in A\vee x\in\emptyset$，这也等价于 $x\in A\cup\emptyset$，再根据求并运算的交换性可知 $\emptyset\cup A=A\cup\emptyset=A$。

公理4帮助构建元素更多的集合，帮助定义三元素集、四元素集乃至更多。

<br>

> **定义 2.1-3 子集（subset）**
>
> 设 $A$ 和 $B$ 都是集合，我们称 $A$ 是 $B$ 的**子集**（subset），并记作 $A\subseteq B$，当且仅当 $A$ 中的每一个元素都是 $B$ 中的元素，即
> 
> $$
    \forall x,\;x\in A\Rightarrow x\in B
>   $$
>
> 如果 $A\subseteq B$ 并且 $A=B$，则称 $A$ 是 $B$ 的**真子集**（proper subset），记作 $A\subsetneq B$

<br>

> **命题 2.1-3 集合的包含关系使集合是偏序关系的（partially ordered）**
>
> 设 $A,B,C$ 是三个集合，如果 $A\subseteq B\wedge B\subseteq C$，则 $A\subseteq C$。如果 $A\subseteq B\wedge B\subseteq A$，则 $A=B$。如果 $A\subsetneq B\wedge B\subsetneq C$，则 $A\subsetneq C$

<br>

证明：
- 第 $1$ 条：设元素 $x\in A$，则由 $A\subseteq B$ 可知 $x\in B$，而从 $x\in B$ 以及 $B\subseteq C$ 可以推出 $x\in C$，于是 $A\subseteq C$；
- 第 $2$ 条：设元素 $x\in A$，则由 $A\subseteq B$ 可知 $x\in B$，设元素 $y\in B$，则由 $B\subseteq A$ 可知 $y\in A$，根据集合相等的定义知 $A=B$；
- 第 $3$ 条：设元素 $x\in A$，则由 $A\subsetneq B$ 可知 $x\in B$，而从 $x\in B$ 以及 $B\subsetneq C$ 可以推出 $x\in C$，但是存在 $c\in C$ 使得 $c\notin B$，故 $c\neq x$，即可得到 $A\subsetneq C$。

<br>

> **公理 5 分类公理（specification）**
>
> 设 $A$ 是一个集合，对任意的 $x\in A$，令 $P(x)$ 表示关于 $x$ 的一个性质，那么存在一个集合 $\{x\in A: P(x)\}$，该集合恰好是由 $A$ 中那些使得 $P(x)$ 为真的元素 $x$ 构成的。对任意的对象 $y$：
> 
> $$
    y\in\{x\in A:P(X)\}\Leftrightarrow y\in A, P(y)\;\text{is}\;\text{true}
>    $$

<br>

这个公理也被称为**分离公理**（seperation），集合 $\{x\in A:P(X)\}$ 一定是集合 $A$ 的一个子集。分类公理被用作定义交集以及差集的概念。

<br>

> **定义 2.1-4 交集（intersection）**
>
> 两个集合的**交集**（intersection） $S_1\cap S_2$ 被定义为这样一个集合：
> 
> $$
    S_1\cap S_2:=\{x\in S_1:x\in S_2\}
>    $$
> 
> 即 $S_1\cap S_2$ 是由所有同时属于 $S_1$ 和 $S_2$ 的元素构成的，$x\in S_1\cap S_2\Leftrightarrow x\in S_1\wedge x\in S_2$。如果 $A\cap B=\emptyset$，那么称集合 $A$ 和 $B$ 是**不相交的**（disjoint）。

<br>

> **定义 2.1-5 差集（difference set）**
>
> 给定两个集合 $A$ 和 $B$，定义集合 $A-B$ 或者 $A\backslash B$ 是由 $A$ 中所有不属于 $B$ 的元素组成的集合：
> 
> $$
    A\backslash B:=\{x\in A:x\notin B\}
>    $$

<br>

> **命题 2.1-4 集合构成布尔代数（boolean algebra）**
>
>  设 $A,B,C$ 都是集合，令 $X$ 表示包含 $A,B,C$ 作为其子集的集合。 
> 
> - 最小元：$A\cup\emptyset=A$ 和 $A\cap\emptyset=\emptyset$；
> - 最大元：$A\cup X=X$ 和 $A\cap X=A$；
> - 恒等式：$A\cup A=A$ 和 $A\cap A=A$；
> - 交换律：$A\cup B=B\cup A$ 和 $A\cap B=B\cap A$；
> - 结合律：$(A\cup B)\cup C=A\cup(B\cup C)$ 和 $(A\cap B)\cap C=A\cap(B\cap C)$；
> - 分配律：$A\cap(B\cup C)=(A\cap B)\cup(A\cap C)$ 和 $A\cup(B\cap C)=(A\cup B)\cap(A\cup C)$
> - 分拆法：$A\cup(X\backslash A)=X$ 和 $A\cap(X\backslash A)=\emptyset$
> - De Morgan 定理：$X\backslash(A\cup B)=(X\backslash A)\cap(X\backslash B)$ 和 $X\backslash(A\cap B)=(X\backslash A)\cup(X\backslash B)$

<br>

上述定律中 $\cup$、$\cap$ 以及 $X$、$\emptyset$ 存在一定的对称性，这是数学中对偶性（duality）的一种体现，在这种情况下，对偶性体现为互补关系：$A\mapsto X\backslash A$。上述的定理都称为**布尔代数定理**。

证明：
- 最小元：

    $$
    \begin{aligned}
        x\in A\cup\emptyset\Leftrightarrow(x\in A\vee x\in\emptyset)\Leftrightarrow x\in A\\
        x\in A\cap\emptyset\Leftrightarrow(x\in A\wedge x\in\emptyset)\Leftrightarrow x\in\emptyset
    \end{aligned}
    $$

- 最大元：

    $$
    \begin{aligned}
        x\in A\cup X\Leftrightarrow(x\in A\vee x\in X)\Leftrightarrow x\in X\\
        x\in A\cap X\Leftrightarrow(x\in A\wedge x\in X)\Leftrightarrow x\in A
    \end{aligned}
    $$

- 恒等式：

    $$
    \begin{aligned}
        x\in A\cup A\Leftrightarrow(x\in A\vee x\in A)\Leftrightarrow x\in A\\
        x\in A\cap A\Leftrightarrow(x\in A\wedge x\in A)\Leftrightarrow x\in A
    \end{aligned}
    $$

- 交换律：交换律的证明我似乎只能诉诸自然语言和逻辑中 $\vee$ 与 $\wedge$ 的交换性质
- 结合律：

    $$
    \begin{aligned}
        &1\quad x\in (A\cup B)\cup C\Leftrightarrow x\in A\cup B\vee x\in C\\
        &2\quad x\in C\Leftrightarrow x\in B\cup C\Leftrightarrow x\in A\cup(B\cup C)\\
        &2\quad x\in A\cup B\Leftrightarrow  x\in A\vee x\in B\\
        &3\quad x\in A\Leftrightarrow x\in A\cup(B\cup C)\\
        &3\quad x\in B\Leftrightarrow x\in B\cup C\Leftrightarrow x\in A\cup(B\cup C)
    \end{aligned}
    $$

- 分配律：

    $$
    \begin{aligned}
        x\in A\cap(B\cup C)&\Leftrightarrow x\in A\wedge(x\in B\vee x\in C)\\
        &\Leftrightarrow (x\in A\wedge x\in B)\vee(x\in A\wedge x\in C)\\
        &\Leftrightarrow x\in (A\cap B)\cup(A\cap C)\\
        x\in A\cup(B\cap C)&\Leftrightarrow x\in A\vee(x\in B\wedge x\in C)\\
        &\Leftrightarrow (x\in A\vee x\in B)\wedge(x\in A\vee x\in C)\\
        &\Leftrightarrow x\in (A\cup B)\cap(A\cup C)
    \end{aligned}
    $$

- 分拆法：由于 $A\subseteq X$ 且 $X\backslash A\subseteq X$，则 $A\cup(X\backslash A)\subseteq X$。考虑元素 $x\in X$，则 $x\in A$ 或者 $x\notin A$，根据差集的定义，后者就是 $x\in X\backslash A$，则根据并集的定义，$x\in A\cup(X\backslash A)$，由此可得 $X\subseteq A\cup(X\backslash A)$。由集合序的关系（命题 2.1-3）可知 $A\cup(X\backslash A)=X$。如果 $x\in A\cap (X\backslash A)$，即 $x\in A\wedge x\notin A$，满足该条件的 $x$ 是不存在的，因此 $A\cap (X\backslash A)=\emptyset$
- De Morgan 定理：

    $$  
    \begin{aligned}
        x\in X\backslash(A\cup B)&\Leftrightarrow x\in X\wedge x\notin (A\cup B)\\
        &\Leftrightarrow x\in X\wedge\lnot(x\in A\vee x\in B)\\
        &\Leftrightarrow x\in X\wedge(x\notin A\wedge x\notin B)\\
        &\Leftrightarrow (x\in X\wedge x\notin A)\wedge(x\in X\wedge x\notin B)\\
        &\Leftrightarrow x\in (X\backslash A)\cap(X\backslash B)\\
        x\in X\backslash(A\cap B)&\Leftrightarrow x\in X\wedge x\notin (A\cap B)\\
        &\Leftrightarrow x\in X\wedge\lnot(x\in A\wedge x\in B)\\
        &\Leftrightarrow x\in X\wedge(x\notin A \vee x\notin B)\\
        &\Leftrightarrow (x\in X \wedge x\notin A)\vee(x\in X\wedge x\notin B)\\
        &\Leftrightarrow x\in(X\backslash A)\cup(X\backslash B)
    \end{aligned}
    $$

证毕。$\square$

<br>

> **公理 6 替代公理（replacement）**
>
> 设 $A$ 是一个集合，对任意的 $x\in A$ 和任意的一个对象 $y$，假设存在一个关于 $x$ 和 $y$ 的命题 $P(x,y)$ 使得对任意的 $x\in A$，最多能够找到一个 $y$ 使得 $P(x,y)$ 为真，那么存在一个集合 $\{y:P(x,y)\;\text{is}\;\text{true}\;\text{for}\;x\}$ 使得对任意对象 $z$：
> 
> $$
    z\in\{y:P(x,y)\;\text{is}\;\text{true}\;\text{for}\;x\}\Leftrightarrow\;\text{for}\;x,P(x,z)\;\text{is}\;\text{true}
>    $$

<br>

常把集合 $\{y:y=f(x)\;\text{for}\;x\}$ 简写为 $\{f(x):x\in A\}$ 或者 $\{f(x)\mid x\in A\}$。

<br>

> **公理 7 无穷大公理（infinity）**
>
> 存在一个集合 $\mathbb{N}$，它的元素被称为自然数，对象 $0$ 在 $\mathbb{N}$ 中，且由每一个自然数 $n\in\mathbb{N}$ 所指定的满足皮亚诺公理的对象 $n++$ 也在 $\mathbb{N}$ 中

<br>

### 2.2 Russell 悖论

<br>

以上公理似乎都具有一个特征：我们能够把具有某个特征的全体元素组成一个集合。于是我们可能会引入以下公理，实际上该公理是危险的，能够引起 Russell 悖论：

<br>

> **危险的公理 万有分类公理（universal specification）**
>
> 假设对任意的对象 $x$，存在关于 $x$ 的性质 $P(x)$，对于每一个 $x$，$P(x)$ 要么是真命题要么是假命题，那么存在一个集合 $\{x:P(x)\;\text{is}\;\text{true}\}$ 使得对任意的对象 $y$：
> $$
    y\in\{x:P(x)\;\text{is}\;\text{true}\}\Leftrightarrow P(y)\;\text{is}\;\text{true}
    $$

<br>

这个公理又被称为**概括公理**（comprehension），它断定每一个性质都对应一个集合，但是这个公理不能被引入到集合论当中，因为它引发了 Russell 悖论。用 $P(x)$ 表示以下命题：
$$
    P(x):=x\;\text{is}\;\text{a}\;\text{set},x\notin x
$$
根据万有分类公理，令 $S$ 表示所有集合构成的集合，由于 $S$ 自身就是一个集合，那么它本身就是 $S$ 的一个元素，从而可知 $P(S)$ 为假。现在利用万有分类公理构造集合：
$$
    \Omega:=\{x:P(x)\;\text{is}\;\text{true}\}=\{x:x\;\text{is}\;\text{a}\;\text{set},x\notin x\}
$$
即由所有不包含自身的集合构成的集合是 $\Omega$，悖论也是从这里出现的：如果 $\Omega\in\Omega$，那么根据 $\Omega$ 的定义可知 $P(\Omega)$ 为真，即 $\Omega$ 是一个集合且 $\Omega\notin\Omega$；如果 $\Omega\notin\Omega$，则根据命题 $P$ 的定义知 $P(\Omega)$ 为真，由 $\Omega$ 的定义又可知 $\Omega\in\Omega$。因此无论怎么假设，都将得到与假设相悖的结论，这就是 Russell 悖论。

解决 Russell 悖论产生的方法是考虑将对象按照一定的层次结构进行排列，在层次结构中最底层的是**原始对象**（primitive objects），即不是集合的对象，在层次结构的下一级存在一些集合，这些集合的元素只能是原始对象，后面的层次结构中的集合可以包含前面的层次结构中的不同的对象。在每一个层次结构中，都不能构造出包含自身的集合。但是这个论述较为复杂，因此在分析学中很少用到，可以给出一个较为简单的公理以排除 Russell 悖论：

<br>

> **公理 8 正则性公理（regularity）**
>
> 如果 $A$ 是一个非空集合，那么 $A$ 中至少存在一个元素 $x$ 满足：$x$ 不是一个集合或者当 $x$ 是一个集合时 $x\cap A=\emptyset$

<br>

正则性公理也被称为**基础公理**（foundation），它断定了 $A$ 中至少存在一个元素位于对象层级结构中非常低的层级，以至于该元素不包含 $A$ 中的其他任何元素。该公理的一个推论是**集合不能包含自身**。

<br>

### 2.3 函数

<br>

> **定义 2.3-1 函数（function）**
>
> 设 $X$ 和 $Y$ 是集合。令 $P(x,y)$ 表示关于对象 $x\in X$ 和对象 $y\in Y$ 的一个性质，并且 $P(x,y)$ 满足对于任意的 $x\in X$，恰好存在一个 $y\in Y$ 使得 $P(x,y)$ 为真（这被称为**垂线测试**，vertical line test），那么我们定义由 $P$ 在**定义域**（domain）$X$ 和**值域**（range）$Y$ 确定了**函数**（function）$f:X\mapsto Y$

<br>

函数对于给定的任意输入 $x\in X$ 都指定了一个输出 $f(x)\in Y$ 与其对应，并且 $f(x)$ 是使得 $P(x,f(x))$ 为真的唯一一个对象，因此对任意的 $x\in X$ 和 $y\in Y$：

$$
    y=f(x)\Leftrightarrow P(x,y)\;\text{is}\;\text{true}
$$

函数也可以被称为**映射**（maps）、**变换**（transformation）或者**态射**（morphism）。定义一个函数通常只需要确定该函数的定义域、值域以及如何从每一个输入 $x$ 产生它所对应的输出 $f(x)$，这样的定义是函数的**显式定义**（explicit definition）；只确定是什么样的性质 $P(x,y)$ 把输入 $x$ 和输出 $f(x)$ 联系起来，这样的定义就是函数的隐式定义（implicit definition）。

<br>

> **定义 2.3-2 函数的相等（equality）**
>
> 两个具有相同定义域和值域的函数：$f:X\mapsto Y$ 和 $g:X\mapsto Y$ 被称为是**相等**的，记作 $f=g$，当且仅当对任意的 $x\in X$ 都有 $f(x)=g(x)$

<br>

> **定义 2.3-3 函数的复合（composition）**
>
> 令 $f:X\mapsto Y$ 和 $g:Y\mapsto Z$ 两个函数，并且满足 $f$ 的值域与 $g$ 的定义域是同一个集合，则定义两个函数的 $g$ 和 $f$ 的复合 $g\circ f:X\mapsto Z$ 为一个函数，并用下面的式子显式定义：
> 
> $$
    (g\circ f)(x):=g(f(x))
>    $$
> 
> 如果 $f$ 的值域以及 $g$ 的定义域不一致，那么不对 $g\circ f$ 进行定义

<br>

举几个简单的例子即可说明函数的复合并不符合交换律，例如 $f:\mathbb{N}\mapsto\mathbb{N}$ 定义为 $f(n):=2n$，$g:\mathbb{N}\mapsto\mathbb{N}$ 定义为 $g(n):=n+3$，则 $(g\circ f)(n)=2n+3$，而 $(f\circ g)(n)=2n+6$。但是函数的复合符合结合律：

<br>

> **命题 2.3-1 函数复合的结合律**
>
> 设 $f:Z\mapsto W$、$g:Y\mapsto Z$ 和 $h:X\mapsto Y$ 是三个函数，那么
> 
> $$
    f\circ(g\circ h)=(f\circ g)\circ h
>    $$

<br>

证明：$g\circ h:X\mapsto Z$，则 $f\circ(g\circ h):X\mapsto W$；$f\circ g:Y\mapsto W$，$(f\circ g)\circ h:X\mapsto W$。这证明了两个复合函数的定义域和值域是相同的，接下去只要说明对于任意的 $x\in X$，都有 $(f\circ(g\circ h))(x)=((f\circ g)\circ h)(x)$ 成立即可：

$$
\begin{aligned}
    (f\circ(g\circ h))(x)&=f(g\circ h(x))\\
    &=f(g(h(x)))\\
    &=(f\circ g)(h(x))\\
    &=((f\circ g)\circ h)(x)
\end{aligned}
$$

因此函数复合的结合律成立。$\square$

<br>

> **定义 2.3-4 单射函数（injective）**
>
> 如果函数 $f$ 把不同的元素映射到不同的元素，即满足
> 
> $$
    x\neq x'\Rightarrow f(x)\neq f(x')
>    $$
>
> 则称函数 $f$ 是**单射**（injective）的，函数 $f$ 满足
> 
> $$
    f(x)=f(x')\Rightarrow x=x'
>    $$

<br>

如果函数 $f:X\mapsto Y$ 不是单射的，那么在定义域中可以找到至少两个不相等的元素 $x$ 和 $x'$ 使得 $f(x)=f(x')$，此时我们称函数为**多对一**的。

<br>

> **定义 2.3-5 满射函数（surjective）**
>
> 如果 $f(X)=Y$，即 $Y$ 中每一个元素都能通过 $f$ 对 $X$ 中某个元素起作用得到，那么函数 $f$ 是**满射**（surjective）的：
> 
> $$
    \forall y\in Y,\exists x\in X, f(x)=y
>    $$

<br>

> **定义 2.3-6 双射函数（bijective）**
>
> 既是单射又是满射的函数 $f:X\mapsto Y$ 被称为**双射**（bijective）的或者**可逆**的

<br>

<!-- TODO : 这里的从非空集合到空集的映射是否存在，我还没有定论-->

讨论三种奇怪的情况：
- $f:\emptyset\mapsto X$，其中 $X\neq\emptyset$，称此时的映射 $f$ 为空映射。单射的定义是 $\forall x,x'\in X,(f(x)=f(x')\Rightarrow x=x')$，由于不存在 $x,x'\in X$，所以前提是错的，前提错则命题为无意义的真，于是空映射是单射；满射的定义是 $\forall y\in Y,(\exists x\in X,f(x)=y)$，在这里前提是正确的但是结论错误，所以此时的空映射不是满射；
- $f:\emptyset\mapsto\emptyset$，此时的映射 $f$ 是特殊情况下的空映射。根据上面一条的讨论很快可以得到两个前提都为假，因此此时的空映射既是单射又是满射，即此时的空映射是双射；
- $f:X\mapsto\emptyset$，按照上面的讨论 $f$ 是一个满射而不是单射（我也查到有说法这样的映射 $f$ 是不存在的，而且也可以根据命题 2.6-4-f 得到这样的结论）。

<br>

所谓的可逆就是对任意的 $y\in Y$，恰好存在一个 $x$ 使得 $f(x)=y$，此时 $x$ 的值被记为 $f^{-1}(y)$，于是 $f^{-1}$ 是一个从 $Y$ 到 $X$ 的函数，称其为 $f$ 的逆（inverse）。

<br>

### 2.4 象和逆象

<br>

> **定义 2.4-1 集合的象（image）**
>
> 如果 $f:X\mapsto Y$ 是从 $X$ 到 $Y$ 的函数，并且 $S$ 是 $X$ 的一个子集，我们把 $f(S)$ 定义为集合
> 
> $$
    f(S):=\{f(x):x\in S\}
>    $$
>
> 该集合是 $Y$ 的一个子集，称 $f(S)$ 为 $S$ 在映射 $f$ 下的**象**（image）或**前象**（forward image）

<br>

注意 $x\in S\Rightarrow f(x)\in f(S)$ 是正确的，但是逆命题 $f(x)\in f(S)\Rightarrow x\in S$ 却是错误的，正确的命题如下：

$$
    y\in f(S)\Leftrightarrow\exists x\in S, y=f(x)
$$

<br>

> **定义 2.4-2 逆象（inverse image）**
>
> 如果 $U$ 是 $Y$ 的一个子集，我们定义集合 $f^{-1}(U)$ 为
> 
> $$
    f^{-1}(U):=\{x\in X:f(x)\in U\}
>    $$
> 该集合是 $X$ 的一个子集，称 $f^{-1}(U)$ 是 $U$ 在映射 $f$ 下的**逆象**（inverse image）

<br>

函数虽然不是集合，但是可以研究从一个集合 $X$ 到另一个集合 $Y$ 的函数作为对象而构成的集合。

<br>

> **公理 9 幂集公理（axiom of power set）**
>
> 设 $X$ 和 $Y$ 都是集合，那么存在一个集合记作 $Y^X$，该集合是由从 $X$ 到 $Y$ 的全体函数构成的：
> 
> $$
    f\in Y^X\Leftrightarrow f:X\mapsto Y
>    $$

<br>

> **命题 2.4-1 幂集（power set）**
>
> 设 $X$ 是一个集合，那么 $\{Y:Y\subseteq X\}$ 是一个集合，该集合被称为 $X$ 的**幂集**（power set）并记作 $2^X$

<br>

证明：根据幂集公理知存在集合 $\{0,1\}^X$，其代表所有 $f:X\mapsto\{0,1\}$ 函数构成的集合。对每个函数 $f\in\{0,1\}^X$，对象 $f^{-1}(\{1\})$ 构成的集合是 $X$ 的一个子集，那么根据替代公理可以定义一个集合：

$$
    A:=\{Y:Y=f^{-1}(\{1\}),f\in\{0,1\}^X\}
$$

则我们构造出了一个 $X$ 的子集构成的集合 $A$，对于任意元素 $Y\in A$ 都有 $Y\subseteq X$，如此可以定义一个如下的函数：

$$
    f:X\mapsto \{0,1\},\quad f(x)=\begin{cases}1,&x\in Y\\[3pt]0,&x\notin Y\end{cases}
$$

满足 $f^{-1}(\{1\})=Y$。因此 $\{Y:Y\subseteq X\}$ 可以构成一个集合。

<br>

> **公理 10 并集公理（union）**
>
> 设 $A$ 是一个集合，并且 $A$ 中的每一个元素本身也是一个集合。那么存在一个集合 $\cup A$，它的元素恰好是 $A$ 的元素的元素，于是对任意的对象 $x$：
> 
> $$
    x\in\cup A\Leftrightarrow\exists S\in A,x\in S
>    $$

<br>

并集公理可以得出以下推论：如果有某个集合 $I$，并且对于每一个元素 $\alpha\in I$ 均有一个集合 $A_\alpha$，那么可以通过定义

$$
    \bigcup_{\alpha\in I}A_\alpha:=\cup\{A_\alpha:\alpha\in I\}
$$

构造出并集 $\bigcup_{\alpha\in I}A_\alpha$，根据替代公理以及并集公理可知它是一个集合。更一般地，对任意的对象 $y$：

$$
    y\in\bigcup_{\alpha\in I}A_\alpha\Leftrightarrow\exists\alpha\in I,y\in A_\alpha
$$

通常把 $I$ 称为**指标集**（index set），并把该指标集中的元素 $\alpha$ 称为**标签**（label），所有的集合 $A_\alpha$ 被称为一个**集族**（family of sets），该集族由标签 $\alpha\in I$ 来进行索引。注意如果 $I$ 是一个空集，那么 $\bigcup_{\alpha\in I}A_\alpha$ 自动为一个空集。

当指标集非空时，可以类似地构造出集族的交集，给定任意一个集合 $I$，并且对每一个 $\alpha\in I$ 都指定一个集合 $A_\alpha$，可以这样定义交集 $\bigcap_{\alpha\in I}A_\alpha$：首先从 $I$ 中取出一个元素 $\beta$（根据单个选取引理可知可以这样做），令

$$
\bigcap_{\alpha\in I}A_\alpha:=\{x\in A_\beta:\forall\alpha\in I,x\in A_\alpha\}
$$

根据分类公理知它是一个集合，并且该集合并不依赖于 $\beta$ 的选择，证明如下：选取 $\beta$ 和 $\beta'$ 为集合 $I$ 中的元素，并且对每一个 $\alpha\in I$ 指定一个集合 $A_\alpha$，设

$$
    M=\{x\in A_\beta:\forall\alpha\in I,x\in A_\alpha\},\quad N=\{x\in A_{\beta'}:\forall\alpha\in I,x\in A_\alpha\}
$$

当 $x\in M$ 时，$x\in A_\beta$ 且对任意 $\alpha\in I$ 都有 $x\in A_\alpha$，又知道 $\beta'\in I$，于是 $x\in A_{\beta'}$，因此可以得到 $M\Rightarrow N$，根据相同的方法可以得到 $N\Rightarrow M$，因此 $\beta$ 的选择不影响交集的构造。于是：

$$
    y\in\bigcap_{\alpha\in I}A_\alpha\Leftrightarrow\forall\alpha\in I,y\in A_\alpha
$$

公理1至公理10（不包含太强的万有分类公理）被称为 **Zermelo-Fraenkel 公理体系**（简称为 ZF 公理体系）。

<br>

### 2.5 Cartesian 积

<br>

> **定义 2.5-1 有序对（ordered pair）**
>
> 若 $x$ 和 $y$ 是任意两个对象，将**有序对**（ordered pair）$(x,y)$ 定义为一个把 $x$ 作为第一个分量，$y$ 作为第二个分量的新对象。两个有序对 $(x,y)$ 和 $(x',y')$ 相等当且仅当它们的分量相等：
> 
> $$
    (x,y)=(x',y')\Leftrightarrow x=x'\wedge y=y'
>    $$

<br>

> **定义 2.5-2 Cartesian 积（Cartesian products）**
>
> 如果 $X$ 和 $Y$ 是集合，那么我们定义 Cartesian 积 $X\times Y$ 为第一个分量在 $X$ 中且第二个分量在 $Y$ 中的全体有序对的集合，因此
> 
> $$
    X\times Y=\{(x,y):x\in X,y\in Y\}
>    $$
> 
> 或者等价的：
> 
> $$
    a\in(X\times Y)\Leftrightarrow\exists x\in X,\exists y\in Y,a=(x,y)
>    $$

<br>

有序对的定义使得 Cartesian 积 $X\times Y$ 是一个集合，且一般情况下 $X\times Y$ 与 $Y\times X$ 是不同的集合。对于函数 $f:X\times Y\mapsto Z$，我们可以将其视作定义域为 $X\times Y$ 的单变量函数，也可以视作定义域为 $X$ 和 $Y$ 的双变量函数。例如自然数加法运算 $+$ 可以看由 $(x,y)\mapsto x+y$ 定义的函数 $+:\mathbb{N}\times\mathbb{N}\mapsto\mathbb{N}$。

<br>

> **定义 2.5-3 有序 $n$ 元组和 $n$ 重 Cartesian 积**
>
> 设 $n$ 是一个自然数，有序 $n$ 元组 $(x_i)_{1\leq i\leq n}$ 是由对象 $x_1,\cdots,x_n$ 按次序构成的一个组，把 $x_i$ 称为有序 $n$ 元组的第 $i$ 个分量。我们称两个有序 $n$ 元组 $(x_i)_{1\leq i\leq n}$ 与 $(y_i)_{1\leq i\leq n}$ 是相等的，当且仅当对所有 $1\leq i\leq n$ 均有 $x_i=y_i$。如果 $(X_i)_{1\leq i\leq n}$ 是集合的有序 $n$ 元组，定义它的 Cartesian 积 $\prod_{1\leq i\leq n}X_i$ 为：
> 
> $$
    \prod_{1\leq i\leq n}X_i:=\{(x_i)_{1\leq i\leq n}:\forall i,1\leq i\leq n,x_i\in X_i\}
>    $$

<br>

我们要证明 $n$ 重 Cartesian 积 $\prod_{1\leq i\leq n}X_i$ 确实是一个集合：根据幂集公理，考察从定义域 $\{1\leq i\leq n\}$ 到值域 $\bigcup_{1\leq i\leq n}X_i$ 的一切函数 $i\mapsto x_i$ 构成的集合；根据分类公理，设性质 $P=x_i\in X_i$，故存在集合

$$
    \{i\mapsto x_i:x_i\in X_i\}
$$

我们可以用有序对 $(x_i)_{1\leq i\leq n}$ 表示函数 $i\mapsto x_i$，于是我们说明了 $n$ 重 Cartesian 积确实是一个集合。事实上，函数 $f:X\mapsto Y$ 是 Cartesian 积 $X\times Y$ 的一个子集。

一个注意点是设集合 $X_1$，则其 Cartesian 积 $\prod_{1\leq i\leq 1}X_i=X_1$，同样空集合的 Cartesian 积 $\prod_{1\leq i\leq 0}=\{()\}$，即一个包含 $0$ 元组的单元素集合。我们时常简写 $X^n:=\prod_{1\leq i\leq n}X$。

<br>

> **命题 2.5-1 有限选取（Finite choice）**
>
> 设 $n\geq 1$ 为自然数，并且对任意自然数 $1\leq i\leq n$，令 $X_i$ 为一个非空集合。那么存在一个 $n$ 元组 $(x_i)_{1\leq i\leq n}$ 使得对所有的 $1\leq i\leq n$ 均有 $x_i\in X_i$。如果每一个 $X_i$ 都是非空集合，那么集合 $\prod_{1\leq i\leq n}X_i$ 也是非空的

<br>

证明：对 $n$ 进行归纳，当 $n=1$ 时，则由此前所证的「单个选取」引理可知成立；归纳性地假设对某个 $n$ 结论已经被证明为真；要证明对于 $n++$ 也成立。令 $X_1,\cdots,X_{n++}$ 为一组非空集合。根据归纳假设，我们能够找到一个 $n$ 元组 $(x_i)_{1\leq i\leq n}$ 使得对所有 $1\leq i\leq n$ 均有 $x_i\in X_i$。因为 $X_{n++}$ 为非空集合，根据此前所证的「单个选取」引理可知可以找到一个对象 $a\in X_{n++}$。令当 $1\leq i\leq n$ 时 $y_i:=x_i$，当 $i=n++$ 时 $y_{i}=a$，于是我们构造了 $n++$ 元组 $(y_i)_{1\leq i\leq n++}$，并且对所有的 $1\leq i\leq n++$ 都有 $y_i\in X_i$，因此归纳成立。

<br>

### 2.6 集合的基数

<br>

基数的作用就是确定集合的大小，直观上有限集合的基数可以是集合内的元素个数。

<br>

> **定义 2.6-1 基数相等**
>
> 我们称两个集合 $X$ 和 $Y$ 有相等的基数，当且仅当存在从 $X$ 到 $Y$ 的一个双射：$f:X\mapsto Y$

<br>

> **命题 2.6-1 基数相等的性质**
>
> 设 $X,Y,Z$ 是集合。
> - 自反性：$X$ 和 $X$ 有相等的基数；
> - 对称性：若 $X$ 和 $Y$ 有相等的基数，则 $Y$ 和 $X$ 有相等的基数；
> - 传递性：若 $X$ 和 $Y$ 有相等的基数，$Y$ 和 $Z$ 有相等的基数，则 $X$ 和 $Z$ 有相等的基数。

<br>

证明:
- 自反性：可以构造一个双射 $f(x)=x,x\in X$，于是 $X$ 和 $X$ 的基数相等；
- 对称性：可以构造一个双射 $f:X\mapsto Y$，由于双射意味着可逆，故能构造一个逆 $f^{-1}:Y\mapsto X$，也就是说 $Y$ 和 $X$ 的基数相等；
- 传递性：我们先证明一个引理，设函数 $f:X\mapsto Y$ 和 $g:Y\mapsto Z$，若 $f,g$ 为单射，则 $g\circ f$ 也是单射；若 $f,g$ 为满射，则 $g\circ f$ 也是满射；若 $f,g$ 为双射，则 $g\circ f$ 也是双射，并且有 $(g\circ f)^{-1}=f^{-1}\circ g^{-1}$

    - 单射情况的证明：设 $x,x'\in X$，则 $(g\circ f)(x)=(g\circ f)(x')$ 意味着 $f(x)=f(x')$，同理意味着 $x=x'$，这说明了 $g\circ f$ 是一个单射；
    - 满射情况的证明：设 $z\in Z$，则意味着 $\exists y\in Y$ 使得 $g(y)=z$，同理意味着 $\exists x\in X$ 使得 $f(x)=y$，这说明了对于任意 $z\in Z$ 都存在 $x\in X$ 使得 $z=(g\circ f)(x)$；
    - 双射情况的证明：由单射和满射的结果可以知道 $g\circ f$ 也是双射成立。令 $z\in Z$，则 $\exists x\in X$ 使得 $z=(g\circ f)(x)$，因此 $x=(g\circ f)^{-1}(z)$，同时 $\exists y\in Y$ 使得 $x=f^{-1}(y),y=g^{-1}(z)$，故 $x=f^{-1}(g^{-1}(z))$。

综上所述，由于可以构造出双射 $f:X\mapsto Y$ 和 $g:Y\mapsto Z$，因此根据上述结论 $g\circ f$ 同样是一个双射，$X$ 和 $Z$ 具有相同的基数。$\square$

<br>

> **定义 2.6-2 基数（Cardinality）**
>
> 设 $n$ 是一个自然数，称集合 $X$ 的基数为 $n$ 当且仅当 $X$ 和集合 $\{i\in\mathbb{N}:1\leq i\leq n\}$ 有相等的基数。我们也称 $X$ 中有 $n$ 个元素，当且仅当 $X$ 的基数为 $n$

<br>

> **命题 2.6-2 基数的唯一性**
>
> 设 $X$ 是一个基数为 $n$ 的集合，那么 $X$ 不可能还有别的基数。即对任意的 $m\neq n$，$m$ 不可能是 $X$ 的基数

<br>

证明：首先证明引理，假设 $n\geq 1$，且 $X$ 的基数为 $n$，那么 $X$ 是非空的，而且如果 $x$ 是 $X$ 中的任意一个元素，那么集合 $X-\{x\}$ 的基数为 $m$，其中 $m$ 满足 $m++=n$。

如果 $X=\emptyset$，由于不存在从空集到一个非空集合的双射，因此 $X$ 不可能与集合 $\{i\in\mathbb{N}:1\leq i\leq n\}$ 的基数相等，于是 $X$ 是非空集合。我们可以构造一个双射：

$$
    f:X\mapsto\{i\in\mathbb{N}:1\leq i\leq n\}
$$

我们可以得到 $f(x)\in\mathbb{N}$ 且 $1\leq f(x)\leq n$。现在构造一个函数如下：

$$
    g:X-\{x\}\mapsto\{i\in\mathbb{N}:1\leq i\leq m\}
$$

对于任意的 $y\in X-\{x\}$，由于 $y\neq x$ 且 $f$ 是一个双射，故 $f(y)\neq f(x)$，构造 $g$ 的具体定义如下：

$$
    g(y):=\begin{cases}
        f(y),&f(y)<f(x)\\[3pt]
        g(y)\;\text{satisfies}\;g(y)++=f(y),&f(y)>f(x)
    \end{cases}
$$

下面证明 $g$ 也是一个双射：因为在 $f(y)<f(x)$ 的情况下 $g(y)=f(y)$，所以此时函数 $g$ 也是双射；在 $f(y)>f(x)$ 的情况下，令 $h:g\mapsto f$，很显然 $h$ 是一个双射，故 $g=h^{-1}\circ f$，根据命题 2.6-1 的证明中所用的引理知 $g$ 是一个双射。综上所述，$g$ 是一个双射。

于是 $X-\{x\}$ 与 $\{i\in\mathbb{N}:1\leq i\leq m\}$ 的基数相等，可以得到 $X-\{x\}$ 的基数为 $m$，满足 $m++=n$。

现在对 $n$ 进行归纳，当 $n=0$ 时，那么 $X$ 一定是空集，而空集不可能具有非零基数（不存在空集到非空集合的双射）；假设对于某个自然数 $n$ 已经证明了该结论，现在设集合 $X$ 的基数为 $n++$ ，同时假设集合 $X$ 还有某个其他的基数 $m$ 满足 $m\neq n++$，那么根据引理可知集合 $X-\{x\}$ 的基数是 $n$ 与 $l$ （其中 $l$ 满足 $l++=m$），而这是不可能的。于是根据归纳法可以得到一个集合的基数是唯一的。$\square$

<br>

> **定义 2.6-3 有限集（Finite sets）**
>
> 一个集合是有限的，当且仅当它的基数是一个自然数；否则，我们称该集合是无限的。如果 $X$ 是一个有限集，那么我们用 $\#(X)$ 表示它的基数

<br>

> **定理 2.6-3 自然数集是无限集**
>
> 自然数集 $\mathbb{N}$ 是无限集

<br>

证明：假设自然数集 $\mathbb{N}$ 是有限集，于是有 $\#(\mathbb{N})=n$，其中 $n$ 是一个自然数。因此存在一个双射 $f$：

$$
    f:\{i\in\mathbb{N}:1\leq i\leq n\}\mapsto\mathbb{N}
$$

下面证明双射 $f$ 满足 $f(i)\leq M$ 对 $1\leq i\leq n$ 恒成立，其中 $M$ 是一个自然数：

我们对 $n$ 进行归纳，当 $n=0$ 时，命题为无意义的真；当 $n=1$ 时，$f(1)\in\mathbb{N}$，选取 $M=f(1)$ 就可以得到 $f(1)\leq M$；假设命题对某个自然数 $n$ 成立，即存在自然数 $M$ 使得 $f(i)\leq M$ 对 $1\leq i\leq n$ 成立；对于 $n++$，考虑当 $f(n++)>M$ 时，我们可以选取 $M'=f(n++)$，当 $f(n++)\leq M$ 时，我们可以选取 $M'=M$。综上可以得到 $f(i)\leq M'$ 对 $1\leq i\leq n++$，于是可以得出命题正确。

这样就存在一个自然数 $M+1$ 与所有 $f(i)$ 不相等，与 $f$ 是一个双射的前提假设矛盾，于是可以推出 $\mathbb{N}$ 是一个无限集。$\square$

<br>

> **命题 2.6-4-a 基数算术**
>
> 设 $X$ 是一个有限集，设 $x$ 是一个对象并且 $x\notin X$。那么集合 $X\cup\{x\}$ 是一个有限集，并且
> 
> $$
    \#(X\cup\{x\})=\#(X)+1
>   $$

<br>

证明：令 $\#(X)=n$，则可以找到一个双射 $f:X\mapsto\{i\in\mathbb{N}:1\leq i\leq n\}$，考虑 $g$ 是一个函数，其定义如下：

$$
    g(t)=\begin{cases}
        f(t),&t\in X\\[3pt]
        n+1,&t=x
    \end{cases}
$$

则函数 $g$ 满足：

$$
    g:X\cup\{x\}\mapsto\{i\in\mathbb{N}:1\leq i\leq n+1\}
$$

且 $g$ 是一个双射，因此可以得出 $\#(X\cup\{x\})=\#(X)+1$。$\square$

<br>

> **命题 2.6-4-b 基数算术**
>
> 设 $X$ 和 $Y$ 都是有限集，那么 $X\cup Y$ 是有限的，且
>
> $$
    \#(X\cup Y)\leq\#(X)+\#(Y)
>    $$
>
> 等号当且仅当在 $X\cap Y=\emptyset$ 时取得

<br>

证明：不妨令 $\#(X)=n, \#(Y)=m$，则存在两个双射：$f:X\mapsto\{i\in\mathbb{N}:1\leq i\leq n\}$ 与 $g:Y\mapsto\{i\in\mathbb{N}:1\leq i\leq m\}$。定义函数 $h$ 如下：

$$
    h(t)=\begin{cases}
        f(t),&t\in X\\[3pt]
        g(t)+n,&t\in Y\backslash X
    \end{cases}
$$

当 $X\cap Y=\emptyset$ 时，$Y\backslash X=Y$，故此时的函数 $h$ 满足 $h:X\cup Y\mapsto\{i\in\mathbb{N}:1\leq i\leq m+n\}$，函数 $h$ 是一个双射，因此可以得出：

$$
    \#(X\cup Y)=\#(X)+\#(Y)
$$

当 $X\cap Y\neq\emptyset$ 时，设 $y\in X\cap Y$，则函数 $h$ 的值域是 $\{i\in\mathbb{N}:1\leq i\leq n+m\}$ 的一个子集，可以与集合 $\{i\in\mathbb{N}:1\leq i\leq k\}$ 形成双射，其中 $k<n+m$，于是：

$$
    \#(X\cup Y)=k<n+m=\#(X)+\#(Y)
$$

证毕。$\square$

<br>

> **命题 2.6-4-c 基数算术**
>
> 设 $X$ 是一个有限集，$Y$ 是 $X$ 的一个子集。那么 $Y$ 是有限集，且 $\#(Y)\leq\#(X)$。如果 $Y\neq X$，即 $Y$ 是 $X$ 的一个真子集，那么 $\#(Y)<\#(X)$

<br>

证明：整体证明过程在命题 2.6-4-b 中已经包含，即通过构造双射和自然数的序关系进行证明。$\square$

<br>

> **命题 2.6-4-d 基数算术**
>
> 如果 $X$ 是一个有限集，并且 $f:X\mapsto Y$ 是一个函数，那么 $f(X)$ 是一个有限集并且满足 $\#(f(X))\leq\#(X)$。如果 $f$ 是一个双射，则 $\#(f(X))=\#(X)$

<br>

证明：如果 $f$ 是双射，根据基数相等的定义就可以得到 $\#(f(X))=\#(X)$。设 $f':X\mapsto Y$，且 $f'$ 是一个双射，如果 $f$ 不是双射，则 $f(X)$ 是 $f'(X)$ 的一个子集（一个直观的理解是函数可以多对一、一对一，但是不可以一对多）。由命题 2.6-4-c 可知：

$$
    \#(f(X))\leq\#(f'(X))=\#(X)
$$

证毕。$\square$

<br>

> **命题 2.6-4-e 基数算术**
>
> 设 $X$ 和 $Y$ 都是有限集，那么 Cartesian 积 $X\times Y$ 是有限的，并且
>
> $$
    \#(X\times Y)=\#(X)\times\#(Y)
>   $$

<br>

证明：不妨令 $\#(X)=m,\#(Y)=n$，现在对 $n$ 进行归纳。当 $n=0$ 时，$Y=\emptyset$，则 Cartesian 积 $X\times Y=\emptyset$，易知空集的基数为 $0$，因此 $\#(X\times Y)=\#(X)\times\#(Y)$ 成立；当 $n=1$ 时，$X\times Y=X\times\{y\}=\{(x,y):x\in X\}$，则 $\#(X\times Y)=\#(X)$，此时命题也是成立的。

假设命题对 $n$ 成立，现在考虑 $n++$ 的情况。设集合 $Y'$ 满足 $\#(Y')=n++$，考虑元素 $y\in Y'$，则根据此前在基数的唯一性的证明过程，可以给出 $\#(Y'-\{y\})=n$，由于有

$$
    \begin{aligned}
        X\times Y'&=(X\times(Y'-\{y\}))\cup(X\times\{y\})\\
        \emptyset&=(X\times(Y'-\{y\}))\cap(X\times\{y\})
    \end{aligned}
$$

根据命题 2.6-4-b 可知 $X\times Y'$ 是一个有限集，并且

$$
    \begin{aligned}
        \#(X\times Y')&=\#(X\times(Y'-\{y\}))+\#(X\times\{y\})\\
        &=\#(X)\times\#(Y'-\{y\})+\#(X)\\
        &=mn+m\\
        &=m\times n++
    \end{aligned}
$$

于是命题对 $n++$ 也成立，根据归纳法可知命题对所有自然数 $n$ 均成立。$\square$

<br>

> **命题 2.6-4-f 基数算术**
>
> 设 $X$ 和 $Y$ 都是有限集，那么幂集 $Y^X$ 是有限的，并且
>
> $$
    \#(Y^X)=\#(Y)^{\#(X)}
>   $$

<br>

证明：不妨令 $\#(X)=n,\#(Y)=m$，我们对 $n$ 进行归纳。当 $n=0$ 时，$X=\emptyset$，则根据幂集的定义知存在一个满足条件的映射，即空映射，于是 $\#(Y^X)=m^0=1$，在这里 $0^0=1$ 是正确的。假设命题对某个 $n$ 成立，则 $\#(Y^X)=m^n$，考虑基数为 $n++$ 的集合 $X'$，我们用 $X$ 表示 $X'-\{x\}$，$X$ 的基数为 $n$，注意到可以构造双射 $h:Y^{X'}\mapsto Y^X\times Y^{\{x\}}$，其满足

<!-- TODO : 我不知道为什么 $h$ 是一个双射-->

$$
    h(f(X'))=(f(X),f(\{x\}))
$$

根据命题 2.6-4-e，于是有

$$
    \#(Y^{X'})=\#(Y^X\times Y^{\{x\}})=\#(Y^X)\times\#(Y^{\{x\}})=m^n\times m=m^{n++}
$$

根据归纳法可知命题成立。

<br>

<br>

<br>

## 3 整数

<br>

我们要构建整数，就必须借助新的符号 $a\bullet b$ 来定义整数，符号 $\bullet$ 实际是一个占位符，与 Cartesian 积中的逗号类似。在之后的证明中，会逐步发现 $\bullet$ 与 $-$ 的作用实际是相同的，这之后就可以直接使用 $-$ 了。按照陶哲轩老师的说法，$\bullet$ 的作用实际与建造高楼大厦时的脚手架相似。

<br>

> **定义 3.1-1 整数**
>
> 整数是形如 $a\bullet b$ 的表达式，其中 $a$ 和 $b$ 都是自然数。两个整数被看作相等的，满足 $a\bullet b=c\bullet d$，当且仅当 $a+d=c+b$。用 $\mathbb{Z}$ 表示全体整数构成的集合

<br>

接下去证明整数的相等关系满足自反性、对称性和传递性：
- 自反性：由于 $a+b=a+b$，因此 $a\bullet b=a\bullet b$；
- 对称性：假设 $a\bullet b=c\bullet d$，则有 $a+d=c+b$，因此 $c+b=a+d$，因此有 $c\bullet d=a\bullet b$；
- 传递性：假设 $a\bullet b=c\bullet d=e\bullet f$，于是有 $a+d=c+b$ 和 $c+f=e+d$ 成立，两式相加得到：

    $$
        a+d+c+f=c+b+e+d
    $$

    根据加法消去律可以得到 $a+f=b+e$，因此 $a\bullet b=e\bullet f$。

<br>

> **定义 3.1-2 整数的加法和乘法**
>
> - 加法：两个整数的和由下面这个式子定义
> 
> $$
    (a\bullet b)+(c\bullet d):=(a+c)\bullet(b+d)
>   $$
>
> - 乘法：两个整数的积由下面这个式子定义
>
> $$
    (a\bullet b)\times(c\bullet d):=(ac+bd)\bullet(ad+bc)
>   $$

<br>

> **命题 3.1-1 整数的加法、乘法运算是定义明确的**
>
> 设 $a,b,a',b',c,d$ 是自然数，如果 $a\bullet b=a'\bullet b'$，那么
> - $(a\bullet b)+(c\bullet d)=(a'\bullet b')+(c\bullet d)$；
> - $(a\bullet b)\times(c\bullet d)=(a'\bullet b')\times(c\bullet d)$。

<br>

证明：
- 要证明 $(a\bullet b)+(c\bullet d)=(a'\bullet b')+(c\bullet d)$，就需要证明 $(a+c)\bullet(b+d)=(a'+c)\bullet(b'+d)$，即证 $a+c+b'+d=a'+c+b+d$。因为 $a\bullet b=a'\bullet b'$，因此 $a+b'=a'+b$，两端同时加上 $c+d$ 即可完成证明；
- 要证明 $(a\bullet b)\times(c\bullet d)=(a'\bullet b')\times(c\bullet d)$，就需要证明 $(ac+bd)\bullet(ad+bc)=(a'c+b'd)\bullet(a'd+b'c)$，即证 $ac+bd+a'd+b'c=a'c+b'd+ad+bc$，这相当于证明 $(a+b')c+(a'+b)d=(a'+b)c+(a+b')d$。又已经知道有 $a+b'=a'+b$，于是命题成立。$\square$

整数的加法、乘法定义明确意味着相等的输入给出相等的输出。

整数 $n\bullet 0$ 与自然数 $n$ 具有相同性质，即在它们之间存在一种同构（isomorphism），可以通过令 $n\equiv n\bullet 0$ 把自然数和整数等同起来。

<br>

> **定义 3.1-3 整数的负运算**
>
> 如果 $a\bullet b$ 是一个整数，那么我们定义它的负数（negation） $-(a\bullet b)$ 是整数 $b\bullet a$。特别的是，如果 $n=n\bullet 0$ 是一个正自然数，那么可以定义它的负数为 $-n=0\bullet n$

<br>

> **命题 3.1-2 整数的负运算是定义明确的**
>
> 设 $a,b,a',b'$ 是自然数，如果 $a\bullet b=a'\bullet b'$，那么 $-(a\bullet b)=-(a'\bullet b')$

<br>

证明：要证明 $-(a\bullet b)=-(a'\bullet b')$，即证 $b\bullet a=b'\bullet a'$，即证 $b+a'=a+b'$。由于 $a+b'=b+a'$，于是负运算是定义明确的。$\square$

<br>

> **命题 3.1-3 整数的三歧性（trichotomy）**
>
> 设 $x$ 是一个整数，那么下述三个命题恰好有一个为真：$x=0$，$x$ 是正自然数 $n$，$x$ 是正自然数 $n$ 的负数 $-n$

<br>

证明：和之前证明自然数的三歧性时一样，先说明这三个命题中至少有一个命题成立。根据整数定义，存在自然数 $a$ 和 $b$ 使得 $x=a\bullet b$。根据自然数的三歧性，有以下三种情况：$a>b$，$a=b$ 和 $a<b$。
- 如果 $a>b$，即存在正自然数 $c$ 使得 $a=b+c$，因此 $a\bullet b=c\bullet 0=c$，于是 $x=c$，是一个正自然数；
- 如果 $a<b$，即存在正自然数 $c$ 使得 $b=a+c$，因此 $a\bullet b=0\bullet c=-c$，于是 $x=-c$，是一个正自然数的负数；
- 如果 $a=b$，那么 $a\bullet b=0\bullet 0=0$，$x=0$。

接下去证明这三个命题中能同时成立的不超过一个。根据定义，一个正自然数是非零的，根据这点即可推导出三个命题中最多同时成立一个。

如果 $n$ 是一个正自然数，那么称 $-n$ 是一个负整数。根据整数的三歧性，我们可以说一个整数是正的、零的或负的，但是不可能同时多于一种情况。$\square$

<br>

> **命题 3.1-4 整数的代数定律**
>
> 设 $x,y,z$ 是整数，那么有：
>
> $$
    \begin{aligned}
        x+y&=y+x\\
        (x+y)+z&=x+(y+z)\\
        x+0=0+x&=x\\
        x+(-x)=(-x)+x&=0\\
        xy&=yx\\
        (xy)z&=x(yz)\\
        x1=1x&=x\\
        x(y+z)&=xy+xz\\
        (y+z)x&=yx+zx
    \end{aligned}
>   $$
>
> 上述九个等式判定全体整数构成一个**交换环**（commutative ring），这在抽象代数中有更丰富的理论

<br>

证明：以下的 $x,y,z$ 都表示为 $x:=x_1\bullet x_2$，$y:=y_1\bullet y_2$，$z=z_1\bullet z_2$。其中 $x_1,x_2,y_1,y_2,z_1,z_2$ 都是自然数
- 加法交换律：
    
    $$
        \begin{aligned}
        x_1\bullet x_2+y_1\bullet y_2&=y_1\bullet y_2+x_1\bullet x_2\\
        \Leftrightarrow(x_1+y_1)\bullet(x_2+y_2)&=(y_1+x_1)\bullet(y_2+x_2)\\
        \Leftrightarrow x_1+y_1+y_2+x_2&=y_1+x_1+x_2+y_1
        \end{aligned}
    $$

    根据自然数的加法交换律，即可证明；
- 加法结合律：

    $$
        \begin{aligned}
        (x_1\bullet x_2+y_1\bullet y_2)+z_1\bullet z_2&=x_1\bullet x_2+(y_1\bullet y_2+z_1\bullet z_2)\\
        \Leftrightarrow((x_1+y_1)+z_1)\bullet((x_2+y_2)+z_2)&=(x_1+(y_1+z_1))\bullet(x_2+(y_2+z_2))\\
        \end{aligned}
    $$

    根据自然数的加法结合律，即可证明；
- $x_1\bullet x_2+0\bullet 0=(x_1+0)\bullet(x_2+0)=x_1\bullet x_2$，加上整数加法的交换律即可证明；
- $x_1\bullet x_2+(-x_1)\bullet(-x_2)=(x_1+(-x_1))\bullet(x_2+(-x_2))=0\bullet 0=0$，加上整数加法的交换律即可证明；
- 乘法交换律：

    $$
        \begin{aligned}
        (x_1\bullet x_2)\times(y_1\bullet y_2)&=(y_1\bullet y_2)\times(x_1\bullet x_2)\\
        \Leftrightarrow(x_1y_1+x_2y_2)\bullet(x_1y_2+x_2y_1)&=(y_1x_1+y_2x_2)\bullet(y_1x_2+y_2x_1)
        \end{aligned}
    $$

    根据自然数的乘法交换律与加法交换律，即可证明；
- 乘法结合律：

    $$
        \begin{aligned}
        ((x_1\bullet x_2)\times(y_1\bullet y_2))\times(z_1\bullet z_2)&=(x_1\bullet x_2)\times((y_1\bullet y_2)\times(z_1\bullet z_2))\\
        \Leftrightarrow((x_1y_1+x_2y_2)\bullet(x_1y_2+x_2y_1))\times(z_1\bullet z_2)&=(x_1\bullet x_2)\times((y_1z_1+y_2z_2)\bullet(y_1z_2+y_2z_1))\\
        \Leftrightarrow((x_1y_1+x_2y_2)z_1+(x_1y_2+x_2y_1)z_2)&\bullet((x_1y_1+x_2y_2)z_2+(x_1y_2+x_2y_1)z_1)\\
        =(x_1(y_1z_1+y_2z_2)+x_2(y_1z_2+y_2z_1))&\bullet(x_1(y_1z_2+y_2z_1)+x_2(y_1z_1+y_2z_2))
        \end{aligned}
    $$

    根据自然数的乘法分配律、结合律与加法交换律，即可证明；
- $x1=(x_1\bullet x_2)\times(1\bullet 0)=(x_1\times 1+0\times x_2)\bullet(x_1\times 0+x_2\times 1)=x_1\bullet x_2$，加上整数乘法交换律即可证明；
- 乘法分配律：

    $$
        \begin{aligned}
        (x_1\bullet x_2)\times((y_1\bullet y_2)+(z_1\bullet z_2))&=(x_1\bullet x_2)\times(y_1\bullet y_2)+(x_1\bullet x_2)\times(z_1\bullet z_2)\\
        \Leftrightarrow(x_1\bullet x_2)\times((y_1+z_1)\bullet(y_2+z_2))&=(x_1y_1+x_2y_2)\bullet(x_1y_2+x_2y_1)+(x_1z_1+x_2z_2)\bullet(x_1z_2+x_2z_1)\\
        \Leftrightarrow(x_1(y_1+z_1)+x_2(y_2+z_2))&\bullet(x_1(y_2+z_2)+x_2(y_1+z_1))\\
        =(x_1y_1+x_2y_2+x_1z_1+x_2z_2)&\bullet(x_1y_2+x_2y_1+x_1z_2+x_2z_1)
        \end{aligned}
    $$

    根据自然数的乘法分配律，即可证明。

证毕。$\square$

接下来给出整数的相减运算，并给出符号 $\bullet$ 实际与符号 $-$ 等价：

<br>

> **定义 3.1-4 整数的相减运算**
>
> 设 $x,y$ 是两个整数，定义它们之间的减法运算为：
>
> $$
    x-y:=x+(-y)
>   $$

<br>

相减运算的确定性已经又整数的加法和整数的负数运算给出，不需要再次证明。假设有自然数 $a,b$，那么它们满足：

$$
    a-b=a\bullet 0-b\bullet 0=a\bullet 0+(0\bullet b)=a\bullet b
$$

因此可以看出符号 $\bullet$ 的作用实际与 $-$ 相同，之后我们都将使用 $-$ 作为整数的定义、整数的负运算和相减运算中的关键符号。

<br>

> **命题 3.1-5 非零整数没有零因子**
>
> 设 $a$ 和 $b$ 是整数，并且满足 $ab=0$。那么 $a=0$ 或者 $b=0$

<br>

证明：首先要证明一个引理：正自然数没有零因子。设 $m,n$ 是正自然数，即存在自然数 $a,b$ 满足 $m=a++,n=b++$，则

$$
    \begin{aligned}
    mn&=(a++)\times(b++)=(a\times(b++))+(b++)\\
    &=((b++)\times a)+(b++)=(b\times a)+a+(b++)\\
    &\geq b++>0
    \end{aligned}
$$

根据反证法可知正自然数没有零因子。

由于整数的三歧性，我们可以对整数的正负性进行讨论。由于 $-a=0-a$，当 $a=0$ 时 $-a=0$。如果整数 $a,b$ 同时是自然数，根据引理可知如果 $ab=0$，则 $a=0$ 或 $b=0$；如果 $a\notin\mathbb{N}$，则 $-a\in\mathbb{N}$，由于 $ab=0$，则 $-ab=(-1)\times (a\times b)=(-a)b=0$，接下去分情况讨论：
- 如果 $b\in\mathbb{N}$，根据引理可知 $-a=0$ 或 $b=0$，即 $a=0$ 或 $b=0$；
- 如果 $b\notin\mathbb{N}$，由于 $(-a)b=0$，则 $-(-a)b=(-1)\times(-a)\times b=(-1)\times b\times(-a)=(-b)(-a)=0$，根据引理可知 $-a=0$ 或 $-b=0$，即 $a=0$ 或 $b=0$。

综上所述，非零整数没有零因子。$\square$

<br>

> **命题 3.1-6 整数的消去律**
>
> 如果 $a,b,c$ 是整数，并且满足 $ac=bc$ 以及 $c\neq 0$，那么 $a=b$

<br>

证明：如果 $ac=bc$，则 $ac-bc=bc-bc=0$，由整数的乘法分配律可知 $c(a-b)=0$，又根据命题 3.1-5 且 $c\neq 0$，则 $a-b=0$，即 $(a-b)+b=0+b$，即 $a=b$。$\square$

<br>

> **定义 3.1-5 整数的排序**
>
> 设 $m,n$ 是整数，我们称 $n$ 大于等于 $m$，记作 $n\geq m$ 或 $m\leq n$，当且仅当存在某个自然数 $a$ 使得 $n=m+a$。我们称 $n$ 严格大于 $m$，记作 $n>m$ 或 $m<n$，当且仅当 $n\geq m$ 且 $n\neq m$

<br>

> **命题 3.1-7 整数序的性质**
>
> 设 $a,b,c$ 是整数
> - $a>b$ 当且仅当 $a-b$ 是一个正的自然数；
> - 加法保持序不变：如果 $a>b$，那么 $a+c>b+c$；
> - 正的乘法保持序不变：如果 $a>b$ 并且 $c$ 是正的，那么 $ac>bc$；
> - 负运算反序：如果 $a>b$，那么 $-a<-b$；
> - 序的可传递性：如果 $a>b$ 且 $b>c$，那么 $a>c$；
> - 序的三歧性：命题 $a>b$，$a<b$ 和 $a=b$ 中恰有一个为真。

<br>

证明：
- 根据序的定义，$a>b$ 等价于存在自然数 $c$ 使得 $a=b+c$ 且 $a\neq b$，则 $a-b=c$，又由于 $a\neq b$，因此 $c\neq 0$，即 $c$ 是一个正自然数；
- 根据 $a>b$ 知存在正自然数 $d$ 使得 $a=b+d$，即 $a-b=d$，由于 $a-b=a+c+(-c)-b=a+c-(b+c)=d$，因此 $a+c>b+c$；
- 根据 $a>b$ 知存在正自然数 $d$ 使得 $a-b=d$，因此 $ac-bc=dc>0$，于是 $ac>bc$；
- 根据 $a>b$ 知存在正自然数 $d$ 使得 $a-b=d$，因此 $-b+a=d$，即 $-b-(-a)=d$，于是 $-b>-a$；
- 根据 $a>b$ 与 $b>c$ 知存在正自然数 $d$ 和 $e$ 使得 $a=b+d$，$b=c+e$，因此 $a=(c+e)+d=c+(e+d)$，因此 $a-c=e+d>0$，于是 $a>c$；
- $a-b=a+(-b)\in\mathbb{Z}$，根据命题 3.1-3（整数的三歧性）知 $a+(-b)>0$，$a+(-b)=0$ 和 $a+(-b)<0$ 恰有一个为真，这与序的三歧性等价。

证毕。$\square$

<br>

<br>

<br>

## 4 有理数

<br>

### 4.1 有理数的构造

<br>

> **定义 4.1-1 有理数**
>
> 有理数（rational number）是形如 $a\bullet b$ 的表达式，其中 $a,b$ 为整数，并且 $b\neq 0$，对于 $a\bullet 0$，我们不把它看作有理数。两个有理数被看作是相等的，即 $a\bullet b=c\bullet d$ 成立，当且仅当 $ad=cb$。全体有理数构成的集合记为 $\mathbb{Q}$

<br>

接下去证明有理数的相等关系是有效的，即满足自反性、对称性和可传递性：
- 自反性：由于 $ab=ab$，因此 $a\bullet b=a\bullet b$ 成立；
- 对称性：设 $a\bullet b=c\bullet d$，由于 $ad=cb$ 和 $cb=ad$ 等价，因此 $c\bullet d=a\bullet b$ 也成立；
- 可传递性：设 $a\bullet b=c\bullet d$，$c\bullet d=e\bullet f$，则 $ad=cb$ 且 $cf=ed$，在前式两端同时乘以 $f$，因此 $adf=cbf=b(cf)=bed$，由于 $d\neq 0$，因此根据命题 3.1-6（整数的消去律）可知 $af=eb$，因此 $a\bullet b=e\bullet f$，传递性成立。

<br>

> **定义 4.1-2 有理数的运算**
>
> 如果 $a\bullet b$ 和 $c\bullet d$ 是有理数，我们定义它们的运算：
> - 加法：两个有理数的和由下面这个式子定义
>
> $$
    a\bullet b+c\bullet d:=(ab+bc)\bullet(bd)
>   $$
>
> - 乘法：两个有理数的乘积由下面这个式子定义
>
> $$
    (a\bullet b)\times(c\bullet d):=(ac)\bullet(bd)
>   $$
>
> - 负运算：一个有理数的负数由下面这个式子定义
>
> $$
    -(a\bullet b):=(-a)\bullet b
>   $$
>
> - 倒数运算：如果 $x=a\bullet b$ 是一个非零的有理数，从而 $a,b\neq 0$，定义 $x$ 的倒数 $x^{-1}:=b\bullet a$

<br>

> **命题 4.1-1 有理数的运算是定义明确的**
>
> 有理数上的加法、乘法和负运算都是定义明确的，就是说使用与 $a\bullet b$ 相等的 $a'\bullet b'$ 代入上述运算后得到的结果不变

<br>

证明：
- 加法的定义是明确的：由于 $a\bullet b=a'\bullet b'$，则 $b\neq 0,b'\neq 0$，并且 $ab'=a'b$，现在证明 $a\bullet b+c\bullet d=a'\bullet b'+c\bullet d$，根据有理数加法的定义：

    $$
        \begin{aligned}
            LHS&=(ad+bc)\bullet (bd)\\
            RHS&=(a'd+b'c)\bullet (b'd)
        \end{aligned}
    $$

    所以我们要证明的是 $(ad+bc)b'd=(a'd+b'c)bd$，展开即证明 $ab'd^2+bb'cd=a'bd^2+bb'cd$，由于 $ab'=a'b$，因此命题成立，加法定义明确；
- 乘法的定义是明确的：前提承上，现在证明 $(a\bullet b)\times(c\bullet d)=(a'\bullet b')\times(c\bullet d)$，根据有理数乘法的定义：

    $$
        \begin{aligned}
            LHS&=(ac)\bullet(bd)\\
            RHS&=(a'c)\bullet(b'd)
        \end{aligned}
    $$

    所以我们要证明的是 $ab'cd=a'bcd$，由于 $ab'=a'b$，因此命题成立，乘法定义明确；
- 负运算的定义是明确的：前提承上，现在证明 $-(a\bullet b)=-(a'\bullet b')$，根据负运算的定义知我们要证明的是 $(-a)\bullet b=(-a')\bullet b'$，即证明 $-ab'=-a'b$，由于 $ab'=a'b$，因此命题成立，负运算定义明确;
- 倒数运算的定义是明确的：前提承上，现在证明 $b\bullet a=b'\bullet a'$，这是显然的，因为这等价于前提 $a'b=b'a$，倒数运算定义明确。

证毕。$\square$

<br>

> **命题 4.1-2 有理数的代数定律**
>
> 设 $x,y,z$ 为有理数，那么有：
>
> $$
    \begin{aligned}
        x+y&=y+x\\
        (x+y)+z&=x+(y+z)\\
        x+0&=0+x=x\\
        x+(-x)&=(-x)+x=0\\
        xy&=yx\\
        (xy)z&=x(yz)\\
        x1&=1x=x\\
        x(y+z)&=xy+xz\\
        (y+z)x&=yx+zx\\
        x\neq 0\Rightarrow xx^{-1}&=x^{-1}x=1
    \end{aligned}
>   $$
>
> 上述十个等式断定有理数集 $\mathbb{Q}$ 构成了一个**域**（field）

<br>

证明：设 $x=x_1\bullet x_2,y=x_1\bullet y_2,z=z_1\bullet z_2$，其中 $x_1,x_2,y_1,y_2,z_1,z_2$ 都是整数，则
- 加法交换律：

    $$
        \begin{aligned}
            x_1\bullet x_2+y_1\bullet y_2&=y_1\bullet y_2+x_1\bullet x_2\\
            \Leftrightarrow (x_1y_2+x_2y_1)\bullet(x_2y_2)&=(x_2y_1+x_1y_2)\bullet (x_2y_2)
        \end{aligned}
    $$

    根据整数的加法交换律即可证明；
- 加法结合律：

    $$
        \begin{aligned}
            (x_1\bullet x_2+y_1\bullet y_2)+z_1\bullet z_2&=x_1\bullet x_2+(y_1\bullet y_2+z_1\bullet z_2)\\
            \Leftrightarrow ((x_1y_2+x_2y_1)z_2+x_2y_2z_1)\bullet(x_2y_2z_2)&=(x_1y_2z_2+x_2(y_1z_2+y_2z_1))\bullet (x_2y_2z_2)
        \end{aligned}
    $$

    根据整数的乘法分配律即可证明；
- $x_1\bullet x_2+0\bullet 1=x_1\bullet x_2$，加上有理数的加法交换律即可证明；
- $x_1\bullet x_2+(-x_1)\bullet x_2=(x_1x_2+(-x_1)x_2)\bullet x_2^2=0\bullet x_2^2=0$，加上有理数的加法交换律即可证明；
- 乘法交换律：

    $$
        \begin{aligned}
            (x_1\bullet x_2)\times(y_1\bullet y_2)&=(y_1\bullet y_2)\times(x_1\bullet x_2)\\
            \Leftrightarrow (x_1y_1)\bullet (x_2y_2)&=(y_1x_1)\bullet(y_2x_2)
        \end{aligned}
    $$

    根据整数的乘法交换律即可证明；
- 乘法结合律：

    $$
        \begin{aligned}
            ((x_1\bullet x_2)\times(y_1\bullet y_2))\times(z_1\bullet z_2)&=(x_1\bullet x_2)\times((y_1\bullet y_2)\times(z_1\bullet z_2))\\
            \Leftrightarrow ((x_1y_1)z_1)\bullet((x_2y_2)z_2)&=(x_1(y_1z_1))\bullet(x_2(y_2z_2))
        \end{aligned}
    $$

    根据整数的乘法结合律即可证明；
- $(x_1\bullet x_2)\times(1\bullet 1)=x_1\bullet x_2$，加上有理数的乘法交换律即可证明；
- 乘法分配律：

    $$
        \begin{aligned}
            (x_1\bullet x_2)\times((y_1\bullet y_2)+(z_1\bullet z_2))&=(x_1\bullet x_2)\times(y_1\bullet y_2)+(x_1\bullet x_2)\times(z_1\bullet z_2)\\
            (x_1(y_1z_2+y_2z_1))\bullet(x_2(y_2z_2))&=((x_1y_1)z_2+y_2(x_1z_1))\bullet(x_2y_2z_2)
        \end{aligned}
    $$

    根据整数的乘法分配律即可证明；
- 乘法分配律的另一个版本只需要用到有理数的乘法交换律即可证明；
- $(x_1\bullet x_2)\times(x_2\bullet x_1)=(x_1x_2)\bullet(x_2x_1)=(1\bullet 1)=1$，根据整数的乘法交换律即可证明。

证毕。$\square$

<br>

> **定义 4.1-3 商**
>
> 设两个有理数 $x,y$，其中 $y\neq 0$，定义它们的商（quotient）为 $x/y$ 为
>
> $$
    x/y:=x\times y^{-1}
>   $$

<br>

我们设整数 $a,b$，其中 $b\neq 0$，注意到它们可以表示成有理数 $a\bullet 1$ 与 $b\bullet 1$，则这两个的商 $a/b=(a\bullet 1)/(b\bullet 1)=a\bullet b$，因此我们可以用符号 $/$ 代替 $\bullet$，至此脚手架的作用结束了。我们还定义有理数上的减法为 $x-y:=x+(-y)$，其中 $x,y$ 都是有理数。

<br>

> **定义 4.1-4 有理数的正负**
>
> 称一个有理数 $x$ 是正的，当且仅当存在两个正整数 $a,b$ 使得 $x=a/b$；称一个有理数 $x$ 是负的，当且仅当存在某个正有理数 $y$ 使得 $x=-y$

<br>

这样定义的结果是，之前所有的正整数都是正有理数，负整数都是负有理数，给出的新定义与旧定义一致了。

<br>

> **命题 4.1-3 有理数的三歧性**
>
> 设 $x$ 是一个有理数，那么下述三个命题中恰有一个为真：$x=0$，$x$ 为正的，$x$ 为负的

<br>

证明：根据命题 3.1-3（整数的三歧性），设有理数 $x=a/b$，其中整数 $a$ 的符号不确定，设 $b$ 为正整数。当 $a$ 是正的，有理数 $x$ 也是正的；当 $a=0$ 时，$x=0$；当 $a$ 是负的，有理数 $x$ 也是负的。根据整数的三歧性可以推导出有理数的三歧性。$\square$

<br>

> **定义 4.1-5 有理数的排序**
>
> 设 $x$ 和 $y$ 是有理数，我们称 $x>y$ 当且仅当 $x-y$ 是一个正有理数，称 $x<y$ 当且仅当 $x-y$ 是一个负有理数。记 $x\geq y$ 当且仅当 $x>y$ 或 $x=y$，记 $x\leq y$ 当且仅当 $x<y$ 或 $x=y$

<br>

> **命题 4.1-4 有理数上序的基本性质**
>
> - （a）序的三歧性：命题 $x=y$，$x>y$ 和 $x<y$ 中恰有一个为真；
> - （b）序的反对称性：我们有 $x<y$ 当且仅当 $y>x$；
> - （c）序的传递性：如果 $x<y$ 且 $y<z$，那么 $x<z$；
> - （d）加法保持序不变：如果 $x<y$，那么 $x+z<y+z$；
> - （e）正的乘法保持序不变：如果 $x<y$ 且 $z$ 是正的，那么 $xz<yz$

<br>

证明：
- （a）：根据有理数的三歧性，有理数 $x-y$（其中 $x,y$ 均是有理数）要么是正的，要么是负的，要么是 $0$，根据有理数排序的定义可知 $x>y$，$x=y$ 和 $x<y$ 当中只有一个是真的；
- （b）：$x<y\Leftrightarrow x-y<0\Leftrightarrow -(x-y)=y-x>0\Leftrightarrow y>x$；
- （c）：$(x-y)+(y-z)=x-z<0\Rightarrow x<z$；
- （d）：$(x+z)-(y+z)=(x-y)+(z-z)=x-y<0$，根据前提可知命题成立，因此 $x+z<y+z$；
- （e）：令 $y-x=p=a/b$，其中 $p$ 是正有理数，$a,b$ 是正的整数，令 $z=c/d$，其中 $c,d$ 是正的整数，于是 $pz=(ac)/(bd)$，整数 $ac$ 和 $bd$ 是正的，因此 $pz=z(y-x)$ 是正的有理数，根据有理数的乘法分配律可知 $yz-xz>0$，因此 $xz<yz$。

证毕。$\square$

上面有关序的五条性质以及域的十个公理可以断定有理数集 $\mathbb{Q}$ 构成一个**有序域**。

<br>

### 4.2 绝对值和指数运算

<br>

> **定义 4.2-1 绝对值**
>
> 设 $x$ 是一个有理数，那么 $x$ 的绝对值（absolute value） $\lvert x\rvert$ 定义如下：
>
> $$
    \lvert x\rvert:=\begin{cases}
        x&x>0\\[3pt]
        -x&x<0\\[3pt]
        0&x=0
    \end{cases}
>   $$

<br>

> **定义 4.2-2 距离**
>
> 设 $x,y$ 为有理数，量 $\lvert x-y\rvert$ 被称为 $x$ 与 $y$ 之间的距离（distance），可以记作 $d(x,y):=\lvert x-y\rvert$

<br>

> **命题 4.2-1 绝对值与距离的基本性质**
>
> - （a）绝对值的非退化性：$\lvert x\rvert\geq 0$，并且 $\lvert x\rvert=0$ 当且仅当 $x=0$；
> - （b）三角不等式：$\lvert x+y\rvert\leq\lvert x\rvert+\lvert y\rvert$；
> - （c）绝对值不等式：不等式 $-y\leq x\leq y$ 成立当且仅当 $y\geq\lvert x\rvert$；
> - （d）绝对值的可乘性：$\lvert xy\rvert =\lvert x\rvert\lvert y\rvert$；
> - （e）距离的非退化性：$d(x,y)\geq 0$，并且 $d(x,y)=0$ 当且仅当 $x=y$；
> - （f）距离的对称性：$d(x,y)=d(y,x)$；
> - （g）距离的三角不等式：$d(x,z)\leq d(x,y)+d(y,z)$

<br>

证明：
- （a）：注意到 $x$ 为正的时 $\lvert x\rvert$ 也为正，$x$ 为负的时 $\lvert x\rvert$ 为正，当 $x=0$ 时 $\lvert x\rvert=0$，因此三种情况下 $\lvert x\rvert\geq 0$，且只有 $x=0$ 时 $\lvert x\rvert=0$；
- （b）：根据绝对值定义可以得到 $x\leq\lvert x\rvert$，因此

    $$
        \lvert x+y\rvert\leq x+y\leq\lvert x\rvert+\lvert y\rvert
    $$

- （c）：注意 $y\geq\lvert x\rvert$ 等价于当 $x\geq 0$ 时 $y\geq x$，当 $x<0$ 时 $y\geq -x$，根据有理数序的性质（负的乘法使序方向相反），这等价于 $-y\leq x\leq y$；
- （d）：分四种情况讨论
  - $x\geq 0,y\geq 0$ 时，$\lvert xy\rvert=xy=\lvert x\rvert\lvert y\rvert$；
  - $x\geq 0,y<0$ 时，$\lvert xy\rvert=x(-y)=\lvert x\rvert\lvert y\rvert$；
  - $x<0,y\geq 0$ 时，$\lvert xy\rvert=(-x)y=\lvert x\rvert\lvert y\rvert$；
  - $x<0,y<0$ 时，$\lvert xy\rvert=xy=(-x)(-y)=\lvert x\rvert\lvert y\rvert$；
- （e）：根据绝对值的定义，结合（a）的证明过程可知距离也是非退化的；
- （f）：根据绝对值的定义可知 $\lvert a\rvert=\lvert-a\rvert$，因此 $d(x,y)=d(y,x)$；
- （g）：根据三角不等式

    $$
        \begin{aligned}
            d(x,y)+d(y,z)&=\lvert x-y\rvert+\lvert y-z\rvert\\
            &\geq\lvert(x-y)+(y-z)\rvert\\
            &=\lvert x-z\rvert=d(x,z)
        \end{aligned}
    $$

    于是命题成立。

证毕。$\square$

<br>

> **定义 4.2-3 $\varepsilon$-接近性**
>
> 设 $\varepsilon>0$ 是一个有理数，并且设 $x,y$ 是有理数。我们称 $y$ 是 $\varepsilon$-接近于 $x$ 的当且仅当 $d(y,x)\leq\varepsilon$

<br>

这个定义将作为脚手架用来构造更加重要的极限和 Cauchy 序列的概念，和前面构造的整数、有理数的符号类似。

<br>

> **命题 4.2-2 $\varepsilon$-接近性的性质**
>
> 设 $x,y,z,w$ 都是有理数，则：
> - （a）$x=y$，当且仅当对任意的 $\varepsilon>0$，$x$ 都是 $\varepsilon$-接近于 $y$ 的；
> - （b）设 $\varepsilon>0$，如果 $x$ 是 $\varepsilon$-接近于 $y$ 的，那么 $y$ 也是 $\varepsilon$-接近于 $x$ 的；
> - （c）设 $\varepsilon,\delta>0$，如果 $x$ 是 $\varepsilon$-接近于 $y$ 的，$y$ 是 $\delta$-接近于 $z$ 的，那么 $x$ 是 $(\varepsilon+\delta)$-接近于 $z$ 的；
> - （d）设 $\varepsilon,\delta>0$，如果 $x$ 和 $y$ 是 $\varepsilon$-接近的，并且 $z$ 和 $w$ 是 $\delta$-接近的，那么 $x+z$ 和 $y+w$ 是 $(\varepsilon+\delta)$-接近的，并且 $x-z$ 和 $y-w$ 也是 $\varepsilon+\delta$-接近的；
> - （e）设 $\varepsilon>0$，如果 $x$ 和 $y$ 是 $\varepsilon$-接近的，那么对任意的 $\varepsilon'>\varepsilon$，$x$ 和 $y$ 也是 $\varepsilon'$ 接近的。
> - （f）设 $\varepsilon>0$，如果 $y$ 和 $z$ 都是 $\varepsilon$-接近于 $x$ 的，并且 $w$ 位于 $y$ 和 $z$ 之间，即 $y\leq w\leq z$ 或者 $z\leq w\leq y$ 成立，那么 $w$ 也是 $\varepsilon$-接近于 $x$ 的；
> - （g）设 $\varepsilon>0$，如果 $x$ 和 $y$ 是 $\varepsilon$-接近的，并且 $z\neq 0$，那么 $xz$ 和 $yz$ 是 $\varepsilon\lvert z\rvert$-接近的；
> - （h）设 $\varepsilon,\delta>0$，如果 $x$ 和 $y$ 是 $\varepsilon$-接近的，并且 $z$ 和 $w$ 是 $\delta$-接近的，那么 $xz$ 和 $yw$ 是 $(\varepsilon\lvert z\rvert+\delta\lvert x\rvert+\varepsilon\delta)$-接近的。

<br>

证明：
- （a）：当 $x=y$ 时，$d(x,y)=0<\varepsilon$；反过来的方向用反证法，假设 $x\neq y$，则 $d(x,y)>0$，由于 $d(x,y)>d(x,y)/2>\varepsilon/2$，这说明不存在 $\delta<\varepsilon/2$ 使得 $d(x,y)<\delta$，这与条件矛盾，因此 $x=y$；
- （b）：$d(x,y)=d(y,x)<\varepsilon$；
- （c）：根据命题 4.2-1（g）可知

    $$
        d(x,z)\leq d(x,y)+d(y,z)<\varepsilon+\delta
    $$

- （d）：根据命题 4.2-1（b）可知

    $$
        \begin{aligned}
            \lvert(x+z)-(y+w)\rvert&=\lvert(x-y)+(z-w)\rvert\\
            &\leq\lvert x-y\rvert+\lvert z-w\rvert\\
            &<\varepsilon+\delta\\
            \lvert(x-z)-(y-w)\rvert&=\lvert(x-y)+(w-z)\rvert\\
            &\leq\lvert x-y\rvert+\lvert w-z\rvert\\
            &<\varepsilon+\delta
        \end{aligned}
    $$

- （e）：$d(x,y)<\varepsilon<\varepsilon'$；
- （f）：$d(w,x)\leq\max(d(y,x),d(z,x))<\varepsilon$；
- （g）：根据命题 4.2-1（d）可知 $\lvert xz-yz\rvert=\lvert z\rvert\lvert x-y\rvert<\varepsilon\lvert z\rvert$；
- （h）：记 $a:=y-x$，则 $y=x+a$ 且 $\lvert a\rvert\leq\varepsilon$，记 $b:=w-z$，则 $w=z+b$ 且 $\lvert b\rvert\leq\delta$，则

    $$
        \begin{aligned}
            \lvert yw-xz\rvert&=\lvert(x+a)(z+b)-xz\rvert\\
            &=\lvert bx+az+ab\rvert\\
            &\leq\lvert bx\rvert+\lvert az\rvert+\lvert ab\rvert\\
            &=\lvert b\rvert\lvert x\rvert+\lvert a\rvert\lvert z\rvert+\lvert a\rvert\lvert b\rvert\\
            &\leq\delta\lvert x\rvert+\varepsilon\lvert z\rvert+\varepsilon\delta
        \end{aligned}
    $$

证毕。$\square$

<br>

> **定义 4.2-4 自然数的指数运算**
>
> 设 $x$ 是一个有理数，我们定义 $x^0:=1$，特别地，$0^0:=1$。现在归纳性地假设对于某个自然数 $n$，$x^n$ 已经被定义了，于是我们定义 $x^{n+1}:=x^n\times x$

<br>

> **命题 4.2-3-a 指数运算的性质**
>
> 设 $x,y$ 为有理数，并且设 $n$ 和 $m$ 是自然数
> - （a）我们有 $x^nx^m=x^{n+m}$，$(x^n)^m=x^{nm}$ 和 $(xy)^n=x^ny^n$；
> - （b）假设 $n>0$，那么 $x^n=0$ 当且仅当 $x=0$；
> - （c）如果 $x\geq y\geq 0$，那么 $x^n\geq y^n\geq 0$。如果 $x>y\geq 0$，那么 $x^n>y^n\geq 0$；
> - （d）$\lvert x^n\rvert=\lvert x\rvert^n$。

<br>

