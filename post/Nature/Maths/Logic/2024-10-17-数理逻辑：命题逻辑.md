---
html:
  offline: false
  cdn_hosted: true
export_on_save:
  html: true
---

# 数理逻辑：命题逻辑

<br>

<br>

<br>

## 1 逻辑连结词

<br>

陈述句是可以判断真假的句子，在命题逻辑中使用小写字母 $p,q,r$ 或者 $p_1,\cdots,p_n$ 去区分不同的**原子命题**（atomic sentence），我们可以使用逻辑连结词将不同的原子命题进行组合，得到一个复合命题：
- $\lnot$ 称为**否定**（negation），命题 $p$ 的否定记作 $\lnot p$，表示与 $p$ 真值相反的命题；
- $\lor$ 称为**析取**（disjunction），命题 $p$ 和 $r$ 的析取记作 $p\lor r$，表示 $p$ 和 $r$ 之间至少有一个为真时复合命题才为真；
- $\land$ 称为**合取**（conjunction），命题 $p$ 和 $r$ 的合取记作 $p\land r$，表示只有当 $p$ 和 $r$ 的都为真时复合命题才为真；
- $\to$ 称为**条件语句**（implication），命题 $p$ 和 $r$ 的条件语句记为 $p\to r$，表示 $q$ 是 $p$ 的逻辑结果，其中 $p$ 是条件/前件，$r$ 是结论/后件。

我们约定逻辑连结词的优先级如下：$\lnot,\land,\lor,\to$，其中 $\to$ 是右结合的，即 $p\to q\to r$ 表示 $p\to(q\to r)$。

<br>

## 2 自然演绎

<br>

在**自然演绎**（natural deduction）中，我们有一组证明规则，它们允许我们从其他公式中推断公式。假设我们有一个公式构成的集合 $\phi_1,\cdots,\phi_n$，以及一个公式 $\psi$，我们把 $\phi_1,\cdots,\phi_n$ 称为**前提**（premises），$\psi$ 称为**结论**（conclusion），一个证明记作：

$$
    \phi_1,\cdots,\phi_n\vdash\psi
$$

这样的一个表达式称为**相继式**（sequent），如果能找到证明，则这个相继式是有效的。

<br>

### 2.1 自然演绎的规则

<br>

> **规则 1 合取推导规则**
>
> 如果我们独立地证明了结论 $\phi$ 与 $\psi$，则**合取推导规则**（and-introduction）使得我们能够得到结论 $\phi\land\psi$，记作
>
> $$
    \frac{\phi\quad\psi}{\phi\land\psi}\phantom{}_{\land_{\text{i}}}
>   $$

<br>

其中横线上方的是以及独立证明的结论，横线下方是规则推导出的新的结论。$\land_{\text{i}}$ 称作**合取推导规则**（and-introduction）。从合取推导规则可以推导出**合取消除规则**（and-elimination），即从已经证明的结论 $\phi\land\psi$ 能够得到单独的结论 $\phi$ 和 $\psi$ 均成立：

$$
    \frac{\phi\land\psi}{\phi}\phantom{}_{\land_{\text{e}_1}}\quad\frac{\phi\land\psi}{\psi}\phantom{}_{\land_{\text{e}_2}}
$$

合取消除规则 $\land_{\text{e}_1}$ 与 $\land_{\text{e}_2}$ 的地位是等价的。

我们使用一个例子来说明使用合取推导规则和合取消除规则证明相继式有效性的方法：设相继式 $p\land q,r\vdash q\land r$，则我们知道

$$
    \dfrac{\dfrac{p\land q}{q}\phantom{}_{\land_{\text{e}_2}}\quad r}{q\land r}\phantom{}_{\land_{\text{i}}}
$$

这样的一个证明的树状结构可以被扁平化为一个线性表，这也是常用的证明格式。

<br>

> **规则 2 双重否定规则**
>
> 一个结论 $\phi$ 和其**双重否定**（double negation）$\lnot\lnot\phi$ 是等价的，这是由否定的定义所决定的。有**双重否定推导规则**和**双重否定消除规则**，记作
>
> $$
    \frac{\phi}{\lnot\lnot\phi}\phantom{}_{\lnot\lnot_{\text{i}}}\quad\frac{\lnot\lnot\phi}{\phi}\phantom{}_{\lnot\lnot_{\text{e}}}
>   $$

<br>

> **规则 3 条件消除规则**
>
> 条件语句的连结词 $\to$ 也有一条推导规则和一条消除规则，其中消除规则是命题逻辑中相当有名的规则，称为**假言推理**（modus ponens）。这条规则是说，给定结论 $\phi$，且已知 $\phi$ 能推导出结论 $\psi$，则我们可以得到结论 $\psi$，记作
>
> $$
    \frac{\phi\quad\phi\to\psi}{\psi}\phantom{}_{\to_{\text{e}}}
>   $$

<br>

在学习条件推导规则前，先看一个称为**否定后件**（modus tollens）的规则，其类似于条件消除规则。考虑结论 $\lnot q$ 与 $p\to q$，如果 $p$ 成立则根据条件消除规则 $q$ 成立，但是 $q$ 实际不成立，因此 $p$ 也应当不成立，记作

$$
    \frac{\phi\to\psi\quad\lnot\psi}{\lnot\phi}\phantom{}_{\text{MT}}
$$

> **规则 4 条件推导规则**
>
> 否定后件规则证明了相继式 $p\to q,\lnot q\vdash \lnot p$ 是有效的，我们会考虑一个与之相似的相继式 $p\to q\vdash \lnot q\to\lnot p$ 是否是有效的，因为这个相继式实际是和否定后件规则在讲同一件事情。
>
> 我们考虑 $p\to q$，暂时假设 $\lnot q$，则根据否定后件规则可以知道 $\lnot p$，则我们得到了 $\lnot q\to\lnot p$，**这种暂时假设的证明使得结论不依赖于暂时的假设**。我们记作
>
> $$
    \frac{\boxed{\begin{matrix}\phi\\\vdots\\\psi\end{matrix}}}{\phi\to\psi}\phantom{}_{\to_{\text{i}}}
>   $$

<br>

此处的方框在证明的线性表中就是暂时假设进行的地方。首先假设前提 $\phi$ 是成立的，在方框处进行证明，得到结论 $\psi$ 也是成立的，就可以得到 $\phi\to\psi$，该相继式的有效性不依赖于暂时的假设。

条件推导规则不排除 $\phi$ 与 $\psi$ 重合的可能性，我们使用相继式 $\vdash p\to p$ 来表示 $p\to p$ 是不依赖于任何前提的有效相继式。

<br>

> **定义 1.1-1 定理**
>
> 对于公式 $\phi$，若其存在有效的相继式 $\vdash\phi$，则称 $\phi$ 是一个**定理**（theorem）

<br>

举一个证明定理的例子（这样的一个表就是证明的线性表，而且可以看出，为了将证明树转换为一个线性表，不得不使用**指针**的概念，即在应用的规则后面加上前面假设与结论的序号）：

|序号|公式|使用到的规则|
|:---:|:---|---:|
|1|$q\to r$|$\text{Assumption}$|
|2|$\lnot q\to\lnot p$|$\text{Assumption}$|
|3|$p$|$\text{Assumption}$|
|4|$\lnot\lnot p$|$\lnot\lnot_{\text{i}}\;3$|
|5|$\lnot\lnot q$|$\text{MT}\;2,4$|
|6|$q$|$\lnot\lnot_{\text{e}}\;5$|
|7|$r$|$\to_{\text{e}}\;1,6$|
|8|$p\to r$|$\to_{\text{i}}\;3,7$|
|9|$(\lnot q\to\lnot p)\to(p\to r)$|$\to_{\text{i}}\;2,8$|
|10|$(q\to r)\to((\lnot q\to\lnot p)\to(p\to r))$|$\to_{\text{i}}\;1,9$

根据这张证明线性表可知，对于一个相继式 $\phi_1,\cdots,\phi_n\vdash\psi$，可以转换为证明定理

$$
    \vdash(\phi_1\to(\phi_2\to(\cdots\to(\phi_n\to\psi)\cdots)))
$$

我们可以首先使用消除规则将相继式转换为一个待证的定理，再使用假设以及各种规则证明这个定理。对于上面那个例子，我们如果要说明第 10 行的定理，就必须将其拆解为第 1 行的前提和第 9 行的结论。问题在于第 9 行依旧是一个条件语句，我们可以再将其拆解为第 2 行的前提和第 8 行的结论，而第 8 行依旧是一个条件语句，继续拆解，得到第 3 行的前提和第 7 行的结论，问题归结为在 3 到 7 行之间进行结论 $r$ 的证明。只有这一部分的证明需要创造性，其余部分的分析都是由定理的结构决定的。

如果 $\phi\vdash\psi$ 且 $\psi\vdash\phi$，则可以记作 $\phi\dashv\vdash\psi$（不得不说我找了半天 $\dashv\vdash$ 这个符号怎么打...其实只要`\dashv\vdash`即可），两者可以相互推导。

<br>

> **规则 5 析取规则**
>
> 假设 $\phi$ 成立，则命题「$\phi$ 成立或 $\psi$ 成立」是成立的，对于假设 $\psi$ 成立也是同理的。于是**析取推导规则**可以写作
>
> $$
    \frac{\phi}{\phi\lor\psi}\phantom{}_{\lor_{\text{i}_1}}\quad\frac{\psi}{\phi\lor\psi}\phantom{}_{\lor_{\text{i}_2}}
>   $$
>
> 接下来考虑**析取消除规则**，考虑我们要证明某个命题 $\chi$，并已经假设了 $\phi\lor\psi$ 成立，由于我们并不知道 $\phi$ 与 $\psi$ 哪一个是成立的结论，因此都需要进行假设：
> - 首先，假设 $\phi$ 成立，证明 $\chi$ 成立；
> - 其次，假设 $\psi$ 成立，证明 $\chi$ 成立；
> - 结合两个证明，可以推断出 $\chi$ 是成立的，记作：
>
> $$
    \frac{\phi\lor\psi\quad\boxed{\begin{matrix}\phi\\\vdots\\\chi\end{matrix}}\quad\boxed{\begin{matrix}\psi\\\vdots\\\chi\end{matrix}}}{\chi}\phantom{}_{\lor_{\text{e}}}
>   $$

